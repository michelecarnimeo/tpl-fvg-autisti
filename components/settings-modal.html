    <!-- Modal Impostazioni -->
    <div id="settings-modal" class="settings-modal">
        <div class="settings-modal-content">
            <!-- Header -->
            <div class="settings-modal-header">
                <h3>⚙️ Impostazioni</h3>
                <button id="settings-modal-close" class="settings-modal-close" aria-label="Chiudi">×</button>
            </div>

            <!-- Tabs -->
            <div class="settings-tabs">
                <button class="settings-tab active" data-tab="appearance">
                    <span class="tab-icon">👁️</span>
                    <span>Aspetto</span>
                </button>
                <button class="settings-tab" data-tab="accessibility">
                    <span class="tab-icon">♿</span>
                    <span>Accessibilità</span>
                </button>
                <button class="settings-tab" data-tab="info">
                    <span class="tab-icon">ℹ️</span>
                    <span>Info</span>
                </button>
            </div>

            <!-- Tab Content -->
            <div class="settings-content">

                <!-- Tab Aspetto -->
                <div class="settings-tab-content active" data-content="appearance">
                    <div class="settings-section">

                        <!-- Theme Mode -->
                        <div class="settings-item settings-item-vertical">
                            <div class="settings-item-info">
                                <span class="settings-item-icon">🌓</span>
                                <div class="settings-item-text">
                                    <div class="settings-item-label">Tema</div>
                                    <div class="settings-item-description">Scegli l'aspetto dell'app</div>
                                </div>
                            </div>
                            <div class="settings-theme-options">
                                <label class="settings-theme-option">
                                    <input type="radio" name="theme-mode" value="system" id="theme-system" checked>
                                    <span class="theme-option-card">
                                        <span class="theme-option-icon">⚙️</span>
                                        <span class="theme-option-label">Sistema</span>
                                        <span class="theme-option-description">Segue il dispositivo</span>
                                    </span>
                                </label>
                                <label class="settings-theme-option">
                                    <input type="radio" name="theme-mode" value="light" id="theme-light">
                                    <span class="theme-option-card">
                                        <span class="theme-option-icon">☀️</span>
                                        <span class="theme-option-label">Chiara</span>
                                        <span class="theme-option-description">Sempre chiara</span>
                                    </span>
                                </label>
                                <label class="settings-theme-option">
                                    <input type="radio" name="theme-mode" value="dark" id="theme-dark">
                                    <span class="theme-option-card">
                                        <span class="theme-option-icon">🌙</span>
                                        <span class="theme-option-label">Scura</span>
                                        <span class="theme-option-description">Sempre scura</span>
                                    </span>
                                </label>
                            </div>
                        </div>

                        <!-- Animazione Sfondo -->
                        <div class="settings-item">
                            <div class="settings-item-info">
                                <span class="settings-item-icon">🎬</span>
                                <div class="settings-item-text">
                                    <label class="settings-item-label" for="settings-animation">Animazione
                                        sfondo</label>
                                    <div class="settings-item-description">Gradiente animato nello sfondo</div>
                                </div>
                            </div>
                            <label class="settings-toggle">
                                <input type="checkbox" id="settings-animation"
                                    aria-label="Attiva/disattiva animazione sfondo">
                                <span class="settings-toggle-slider"></span>
                            </label>
                        </div>

                        <!-- Contrasto Alto -->
                        <div class="settings-item">
                            <div class="settings-item-info">
                                <span class="settings-item-icon">👁️</span>
                                <div class="settings-item-text">
                                    <label class="settings-item-label" for="settings-high-contrast">Contrasto
                                        elevato</label>
                                    <div class="settings-item-description">Migliora leggibilità in pieno sole</div>
                                </div>
                            </div>
                            <label class="settings-toggle">
                                <input type="checkbox" id="settings-high-contrast"
                                    aria-label="Attiva/disattiva contrasto elevato">
                                <span class="settings-toggle-slider"></span>
                            </label>
                        </div>

                        <!-- Riduci Animazioni -->
                        <div class="settings-item">
                            <div class="settings-item-info">
                                <span class="settings-item-icon">⚡</span>
                                <div class="settings-item-text">
                                    <div class="settings-item-label">Riduci animazioni</div>
                                    <div class="settings-item-description">Disabilita transizioni ed effetti visivi
                                    </div>
                                </div>
                            </div>
                            <label class="settings-toggle">
                                <input type="checkbox" id="settings-reduce-motion"
                                    aria-label="Attiva/disattiva riduzione animazioni">
                                <span class="settings-toggle-slider"></span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Tab Accessibilità -->
                <div class="settings-tab-content" data-content="accessibility">
                    <div class="settings-section">

                        <!-- Dimensione Testo -->
                        <div class="settings-item settings-item-vertical">
                            <div class="settings-item-info">
                                <span class="settings-item-icon">A</span>
                                <div class="settings-item-text">
                                    <div class="settings-item-label">Dimensione testo</div>
                                    <div class="settings-item-description">Scegli la dimensione più comoda</div>
                                </div>
                            </div>
                            <div class="settings-font-buttons">
                                <button class="settings-font-btn active" data-size="normal">
                                    <span class="font-sample">A</span>
                                    <span class="font-label">Normale</span>
                                </button>
                                <button class="settings-font-btn" data-size="large">
                                    <span class="font-sample">A</span>
                                    <span class="font-label">Grande</span>
                                </button>
                                <button class="settings-font-btn" data-size="xlarge">
                                    <span class="font-sample">A</span>
                                    <span class="font-label">Molto Grande</span>
                                </button>
                            </div>
                        </div>

                        <!-- Pulsanti Grandi -->
                        <div class="settings-item">
                            <div class="settings-item-info">
                                <span class="settings-item-icon">👆</span>
                                <div class="settings-item-text">
                                    <label class="settings-item-label" for="settings-touch-friendly">Modalità
                                        touch</label>
                                    <div class="settings-item-description">Pulsanti più grandi e spaziati</div>
                                </div>
                            </div>
                            <label class="settings-toggle">
                                <input type="checkbox" id="settings-touch-friendly"
                                    aria-label="Attiva/disattiva modalità touch">
                                <span class="settings-toggle-slider"></span>
                            </label>
                        </div>

                        <!-- Feedback Aptico -->
                        <div class="settings-item">
                            <div class="settings-item-info">
                                <span class="settings-item-icon">📳</span>
                                <div class="settings-item-text">
                                    <div class="settings-item-label">Feedback aptico</div>
                                    <div class="settings-item-description">Vibrazione su azioni e conferme</div>
                                </div>
                            </div>
                            <label class="settings-toggle">
                                <input type="checkbox" id="settings-haptic-feedback"
                                    aria-label="Attiva/disattiva feedback aptico">
                                <span class="settings-toggle-slider"></span>
                            </label>
                        </div>

                        <!-- Keep Screen On -->
                        <div class="settings-item">
                            <div class="settings-item-info">
                                <span class="settings-item-icon">☀️</span>
                                <div class="settings-item-text">
                                    <div class="settings-item-label">Schermo sempre attivo</div>
                                    <div class="settings-item-description">Impedisce lo spegnimento automatico</div>
                                </div>
                            </div>
                            <label class="settings-toggle">
                                <input type="checkbox" id="settings-keep-screen-on"
                                    aria-label="Attiva/disattiva schermo sempre attivo">
                                <span class="settings-toggle-slider"></span>
                            </label>
                        </div>

                        <!-- Spaziatura Extra -->
                        <div class="settings-item">
                            <div class="settings-item-info">
                                <span class="settings-item-icon">📏</span>
                                <div class="settings-item-text">
                                    <div class="settings-item-label">Spaziatura extra</div>
                                    <div class="settings-item-description">Pulsanti più grandi e spaziati</div>
                                </div>
                            </div>
                            <label class="settings-toggle">
                                <input type="checkbox" id="settings-extra-spacing"
                                    aria-label="Attiva/disattiva spaziatura extra">
                                <span class="settings-toggle-slider"></span>
                            </label>
                        </div>

                        <!-- Layout Compatto -->
                        <div class="settings-item">
                            <div class="settings-item-info">
                                <span class="settings-item-icon">📐</span>
                                <div class="settings-item-text">
                                    <div class="settings-item-label">Layout compatto</div>
                                    <div class="settings-item-description">Riduce spazi per mostrare più contenuto</div>
                                </div>
                            </div>
                            <label class="settings-toggle">
                                <input type="checkbox" id="settings-compact-layout"
                                    aria-label="Attiva/disattiva layout compatto">
                                <span class="settings-toggle-slider"></span>
                            </label>
                        </div>

                        <!-- Filtro Luce Blu -->
                        <div class="settings-item">
                            <div class="settings-item-info">
                                <span class="settings-item-icon">🔵</span>
                                <div class="settings-item-text">
                                    <div class="settings-item-label">Filtro luce blu</div>
                                    <div class="settings-item-description">Riduce affaticamento occhi (uso notturno)
                                    </div>
                                </div>
                            </div>
                            <label class="settings-toggle">
                                <input type="checkbox" id="settings-blue-light-filter"
                                    aria-label="Attiva/disattiva filtro luce blu">
                                <span class="settings-toggle-slider"></span>
                            </label>
                        </div>
                    </div>

                    <!-- Sezione Dimensione Interfaccia -->
                    <div class="settings-section">
                        <h4 class="settings-section-title">🔍 Dimensione Interfaccia</h4>

                        <div class="scale-preset-selector">
                            <div class="scale-preset-description">
                                Scala l'intera interfaccia della web app
                            </div>

                            <div class="scale-preset-options">
                                <label class="scale-preset-option">
                                    <input type="radio" name="interface-scale" value="75" id="scale-75">
                                    <div class="scale-preset-card">
                                        <div class="scale-preset-info">
                                            <div class="scale-preset-name">Molto Compatta</div>
                                            <div class="scale-preset-percent">75%</div>
                                        </div>
                                    </div>
                                </label>

                                <label class="scale-preset-option">
                                    <input type="radio" name="interface-scale" value="85" id="scale-85">
                                    <div class="scale-preset-card">
                                        <div class="scale-preset-info">
                                            <div class="scale-preset-name">Compatta</div>
                                            <div class="scale-preset-percent">85%</div>
                                        </div>
                                    </div>
                                </label>

                                <label class="scale-preset-option">
                                    <input type="radio" name="interface-scale" value="100" id="scale-100" checked>
                                    <div class="scale-preset-card">
                                        <div class="scale-preset-info">
                                            <div class="scale-preset-name">Normale</div>
                                            <div class="scale-preset-percent">100%</div>
                                        </div>
                                    </div>
                                </label>

                                <label class="scale-preset-option">
                                    <input type="radio" name="interface-scale" value="115" id="scale-115">
                                    <div class="scale-preset-card">
                                        <div class="scale-preset-info">
                                            <div class="scale-preset-name">Grande</div>
                                            <div class="scale-preset-percent">115%</div>
                                        </div>
                                    </div>
                                </label>

                                <label class="scale-preset-option">
                                    <input type="radio" name="interface-scale" value="125" id="scale-125">
                                    <div class="scale-preset-card">
                                        <div class="scale-preset-info">
                                            <div class="scale-preset-name">Molto Grande</div>
                                            <div class="scale-preset-percent">125%</div>
                                        </div>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tab Info e Aggiornamenti -->
                <div class="settings-tab-content" data-content="info">
                    <div class="settings-section">

                        <!-- Informazioni App -->
                        <div class="info-card">
                            <div class="info-header">
                                <img src="src/logo.png" alt="TPL FVG" class="info-logo">
                                <div class="info-title">
                                    <h3>TPL FVG Autisti</h3>
                                    <p class="info-version">Versione ...</p>
                                    <p class="info-date">27 Ottobre 2025 - 19:30</p>
                                </div>
                            </div>

                            <div class="info-description">
                                <p>App per calcolare i prezzi dei biglietti e visualizzare le fermate del trasporto
                                    pubblico locale del Friuli Venezia Giulia.</p>
                            </div>

                            <div class="info-features">
                                <div class="info-feature">
                                    <span class="info-feature-icon">💰</span>
                                    <span>Calcolo prezzi biglietti</span>
                                </div>
                                <div class="info-feature">
                                    <span class="info-feature-icon">🚌</span>
                                    <span>Elenco fermate per linea</span>
                                </div>
                                <div class="info-feature">
                                    <span class="info-feature-icon">📱</span>
                                    <span>Installabile come PWA</span>
                                </div>
                                <div class="info-feature">
                                    <span class="info-feature-icon">🌙</span>
                                    <span>Modalità scura</span>
                                </div>
                            </div>
                        </div>

                        <!-- Verifica Aggiornamenti -->
                        <div class="info-card update-check-card">
                            <div class="update-check-header">
                                <div class="update-check-icon">🔄</div>
                                <div class="update-check-text">
                                    <h4 class="update-check-title">Verifica Aggiornamenti</h4>
                                    <p class="update-check-description">Controlla se è disponibile una nuova versione
                                        dell'app</p>
                                </div>
                            </div>
                            <button id="pwa-cache-reset" class="update-check-btn">
                                Verifica Aggiornamenti
                            </button>
                        </div>

                        <!-- Riavvia App -->
                        <div class="info-card update-check-card">
                            <div class="update-check-header">
                                <div class="update-check-icon">📲</div>
                                <div class="update-check-text">
                                    <h4 class="update-check-title">Riavvia App</h4>
                                    <p class="update-check-description">Riavvia l'applicazione per applicare le
                                        modifiche</p>
                                </div>
                            </div>
                            <button id="restart-app-btn" class="update-check-btn restart-app-btn">
                                Riavvia Ora
                            </button>
                        </div>

                        <!-- Aggiornamenti Recenti -->
                        <div class="info-card">
                            <h4 class="info-card-title">📋 Aggiornamenti Recenti</h4>

                            <!-- Contenitore dinamico per il changelog -->
                            <div id="changelog-container">
                                <!-- Il changelog verrà inserito qui da changelog.js -->
                            </div>
                        </div>

                        <!-- Link Utili -->
                        <div class="info-card">
                            <h4 class="info-card-title">🔗 Link Utili</h4>

                            <a href="https://t.me/+eoJ9nYFFrjphMzVk" target="_blank" class="info-link external-link">
                                <span class="info-link-icon">📢</span>
                                <span>Canale Telegram - Avvisi & Aggiornamenti</span>
                                <span>↗</span>
                            </a>

                            <a href="benvenuto.html" class="info-link">
                                <span class="info-link-icon">👋</span>
                                <span>Pagina Benvenuto</span>
                                <span>→</span>
                            </a>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
