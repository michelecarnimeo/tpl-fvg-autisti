/* ========================================
   SEZIONE 1: RESET CSS
   ======================================== */
/* Reset globale per rimuovere margini e padding di default */
* {
  margin: 0;        /* Rimuove margini di default di tutti gli elementi */
  padding: 0;       /* Rimuove padding di default di tutti gli elementi */
  box-sizing: border-box;  /* Include padding e border nel calcolo delle dimensioni */
}

/* ========================================
   SEZIONE 2: FONT DI SISTEMA
   ======================================== */
/* Imposta font di sistema per funzionamento offline (non dipende da font esterni) */
body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  /* Fallback: usa font di sistema nativi per compatibilità offline */
}

/* ========================================
   SEZIONE 3: VARIABILI CSS - PALETTE COLORI
   ======================================== */
:root {
  /* SUBSECTION 3.1: Colori principali dell'applicazione */
  --turchese: #007b8a;           /* Colore principale ciano - navbar e elementi accent */
  --turchese-scuro: #005f6b;     /* Versione più scura del ciano - hover e stati attivi */
  --turchese-light: #0099aa;     /* Versione più chiara del ciano - elementi secondari */
  --bianco: #ffffff;             /* Bianco puro per testi su sfondi scuri */
  --grigio-chiaro: #f0f4f8;      /* Grigio molto chiaro per sfondi neutri */
  --grigio-medio: #e9ecef;       /* Grigio medio per separatori e bordi */
  --grigio-scuro: #6c757d;       /* Grigio scuro per testo secondario */
  --testo-principale: #0f172a;   /* Colore principale del testo (blu scuro) */
  --testo-secondario: #4a5568;   /* Colore secondario del testo (grigio scuro) */
  --bordo: rgba(255, 255, 255, 0.18);  /* Bordo bianco semi-trasparente per glassmorphism */

  /* SUBSECTION 3.2: Variabili ottimizzate per performance */
  --glass-bg: rgba(255, 255, 255, 0.95);  /* Sfondo semi-opaco per card */
  --glass-border: rgba(255, 255, 255, 0.3);  /* Bordo bianco più visibile per card */
  --glass-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.15);  /* Ombra semplificata per card */
  --backdrop-blur: none;  /* Rimosso per migliorare performance */

  /* SUBSECTION 3.3: Colori per modalità scura */
  --bg-scuro: #0f172a;                    /* Sfondo scuro principale per dark mode */
  --card-scuro: rgba(30, 41, 59, 0.4);    /* Sfondo scuro per card in dark mode */
  --testo-scuro: #f1f5f9;                 /* Testo chiaro per dark mode */
  --bordo-scuro: rgba(148, 163, 184, 0.1); /* Bordo chiaro per dark mode */

  /* SUBSECTION 3.4: Ottimizzazioni per modalità scura */
  --glass-bg-dark: rgba(30, 41, 59, 0.95);        /* Sfondo scuro semi-opaco */
  --glass-border-dark: rgba(148, 163, 184, 0.3);  /* Bordo glassmorphism scuro più visibile */
  --glass-shadow-dark: 0 4px 12px 0 rgba(0, 0, 0, 0.3);  /* Ombra scura semplificata */
}

/* ========================================
   SEZIONE 4: MODALITÀ SCURA (DARK MODE)
   ======================================== */
/* Ridefinisce le variabili CSS quando la classe .dark è applicata al body */
.dark {
  --grigio-chiaro: var(--bg-scuro);        /* Grigio chiaro diventa sfondo scuro */
  --bianco: var(--card-scuro);             /* Bianco diventa card scura */
  --testo-principale: var(--testo-scuro);  /* Testo principale diventa chiaro */
  --testo-secondario: #94a3b8;             /* Testo secondario diventa grigio chiaro */
  --bordo: var(--bordo-scuro);             /* Bordi diventano chiari */
  --glass-bg: var(--glass-bg-dark);        /* Glassmorphism diventa scuro */
  --glass-border: var(--glass-border-dark); /* Bordi glassmorphism diventano chiari */
  --glass-shadow: var(--glass-shadow-dark); /* Ombre glassmorphism diventano scure */
}

/* ========================================
   SEZIONE 5: BACKGROUND DEL BODY - GRADIENTE ANIMATO
   ======================================== */
/* Configurazione principale del body con sfondo glassmorphism animato */
body {
  /* SUBSECTION 5.1: Font principale */
  font-family: 'Inter', sans-serif;  /* Font principale dell'applicazione */
  
  /* SUBSECTION 5.2: Gradiente di sfondo bianco sfumato */
  background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 25%, #cbd5e1 50%, #94a3b8 75%, #64748b 100%);
  background-size: 400% 400%;        /* Dimensione del gradiente per animazione */
  animation: gradientShift 20s ease infinite;  /* Animazione lenta del gradiente */
  
  /* SUBSECTION 5.3: Testo e layout base */
  color: var(--testo-principale);    /* Colore del testo principale */
  line-height: 1.6;                 /* Altezza della riga per leggibilità */
  min-height: 100vh;                /* Altezza minima viewport */
  
  /* SUBSECTION 5.4: Transizioni e posizionamento */
  transition: all 0.3s ease;        /* Transizioni smooth per tutti gli elementi */
  position: relative;               /* Posizionamento relativo per elementi assoluti */
  overflow-x: hidden;              /* Nasconde scroll orizzontale */
  
  /* SUBSECTION 5.5: Layout flexbox */
  margin: 0;                       /* Rimuove margini default */
  padding: 0;                      /* Rimuove padding default */
  display: flex;                   /* Layout flexbox per struttura verticale */
  flex-direction: column;          /* Direzione verticale (header, main, footer) */
}

/* SUBSECTION 5.6: Animazione del gradiente di sfondo */
/* Definisce l'animazione per far muovere il gradiente di sfondo */
@keyframes gradientShift {
  0% {
    background-position: 0% 50%;    /* Posizione iniziale del gradiente */
  }
  50% {
    background-position: 100% 50%;  /* Posizione centrale - gradiente si sposta */
  }
  100% {
    background-position: 0% 50%;    /* Ritorna alla posizione iniziale */
  }
}

/* SUBSECTION 5.7: Background per modalità scura */
/* Override del gradiente quando la classe .dark è attiva */
.dark body {
  background: linear-gradient(135deg, #1a202c 0%, #2d3748 25%, #4a5568 50%, #718096 75%, #a0aec0 100%);
  /* Gradiente scuro: grigio scuro → grigio → grigio chiaro */
  background-size: 400% 400%;        /* Stessa dimensione per animazione */
  animation: gradientShift 20s ease infinite;  /* Stessa animazione lenta */
}

/* ========================================
   SEZIONE 6: CONTAINER PRINCIPALE
   ======================================== */
/* Container wrapper per tutto il contenuto dell'applicazione */
.container {
  max-width: none;        /* Nessuna larghezza massima - usa tutto lo spazio */
  margin: 0 auto;         /* Centra il container orizzontalmente */
  padding: 0 0.25rem;     /* Padding laterale minimo per evitare attaccarsi ai bordi */
  width: 100%;            /* Usa tutta la larghezza disponibile */
  box-sizing: border-box; /* Include padding nel calcolo delle dimensioni */
}

/* SUBSECTION 6.1: Media query per schermi grandi (1200px+) */
@media (min-width: 1200px) {
  /* Container del main content con layout grid */
  .main-content>.container {
    display: grid;              /* Layout a griglia */
    grid-template-columns: 1fr; /* Una colonna (layout verticale) */
    gap: 2rem;                  /* Spazio tra gli elementi */
  }

  /* Container speciale per la griglia delle tariffe */
  #prezzi-grid-container {
    display: grid;                    /* Layout a griglia */
    grid-template-columns: 1fr 1fr;   /* Due colonne per layout orizzontale */
    gap: 3rem;                       /* Spazio maggiore tra le colonne */
    width: 100%;                     /* Larghezza completa */
    max-width: 1800px;               /* Larghezza massima per schermi molto grandi */
    margin: 2rem auto;               /* Margine verticale e centratura */
  }

  /* Card principali dentro il container tariffe */
  #prezzi-grid-container .main-card {
    width: 100%;         /* Larghezza completa per adattarsi alla griglia */
    margin-bottom: 0;    /* Nessun margine inferiore */
    max-width: none;     /* Nessuna larghezza massima */
  }
}

/* ========================================
   SEZIONE 7: NAVBAR - GLASSMORPHISM
   ======================================== */
/* Barra di navigazione superiore con effetto vetro */
.navbar {
  /* SUBSECTION 7.1: Sfondo gradiente ciano */
  background: linear-gradient(135deg, rgba(0, 123, 138, 0.9) 0%, rgba(0, 123, 138, 0.7) 50%, rgba(0, 123, 138, 0.5) 100%);
  /* Gradiente ciano: da 90% opacità a 50% opacità */
  
  /* SUBSECTION 7.2: Effetti ottimizzati */
  /* backdrop-filter rimosso per migliorare performance */
  /* -webkit-backdrop-filter rimosso per migliorare performance */
  
  /* SUBSECTION 7.3: Spaziatura e bordi */
  padding: 0.8rem 0;                            /* Padding verticale aumentato per dare spazio al logo */
  box-shadow: 0 4px 12px 0 rgba(0, 123, 138, 0.4); /* Ombra ciano semplificata */
  border-bottom: 1px solid rgba(0, 123, 138, 0.3);   /* Bordo inferiore ciano */
  
  /* SUBSECTION 7.4: Posizionamento sticky */
  position: sticky;  /* Rimanere in cima durante lo scroll */
  top: 0;           /* Posizione in cima */
  z-index: 1000;    /* Sopra tutti gli altri elementi */
}

/* Effetto rifrazione della luce per navbar */
.navbar::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 60%;
  background: transparent; /* Gradiente rimosso per performance */
  pointer-events: none;
  z-index: 1;
}

/* SUBSECTION 7.5: Layout del contenuto navbar */
.navbar-content {
  display: flex;                    /* Layout flexbox orizzontale */
  justify-content: space-between;   /* Logo a sinistra, menu a destra */
  align-items: center;              /* Allineamento verticale centrale */
  flex-wrap: nowrap;               /* Non andare a capo su schermi piccoli */
}

/* SUBSECTION 7.6: Brand/Logo della navbar */
/* Link wrapper per logo cliccabile */
.navbar-brand-link {
  text-decoration: none;
  color: inherit;
  cursor: pointer;
  display: inline-block;
}

/* Wrapper per effetto flip 3D */
.navbar-logo-wrapper {
  position: relative;
  width: 50px;
  height: 50px;
  display: block;
  perspective: 1000px;
  transform-style: preserve-3d;
}

/* Logo default: stato iniziale frontale */
.navbar-logo-default {
  transform: rotateY(0deg);
  backface-visibility: hidden;
}

/* Logo hover: inizia girato dietro */
.navbar-logo-hover {
  transform: rotateY(180deg);
  backface-visibility: hidden;
}

/* Al hover: logo default ruota via */
.navbar-brand-link:hover .navbar-logo-default {
  transform: rotateY(-180deg);
  opacity: 0;
}

/* Al hover: logo hover ruota e appare */
.navbar-brand-link:hover .navbar-logo-hover {
  transform: rotateY(0deg);
  opacity: 1;
}

.navbar-brand {
  display: flex;        /* Layout flexbox per logo + titolo */
  align-items: center;  /* Allineamento verticale centrale */
  gap: 12px;           /* Spazio tra logo e titolo */
}

/* Logo TPL nella navbar */
.navbar-logo {
  position: absolute;
  top: 0;
  left: 0;
  width: 50px;         /* Logo quadrato ridotto per navbar sottile */
  height: 50px;        /* Logo quadrato ridotto per navbar sottile */
  transition: transform 0.6s ease-in-out, opacity 0.6s ease-in-out, box-shadow 0.3s ease;
  border-radius: 12px; /* Angoli molto smussati per contorno arrotondato */
  border: 2px solid rgba(0, 123, 138, 0.7); /* Contorno ciano che avvolge l'immagine */
  object-fit: contain; /* Adatta l'immagine mantenendo proporzioni e contenuto visibile */
  box-shadow: 0 2px 8px rgba(0, 123, 138, 0.4); /* Ombra semplificata per profondità */
}

/* Logo default visibile di default */
.navbar-logo-default {
  opacity: 1;
  z-index: 1;
}

/* Logo hover nascosto di default */
.navbar-logo-hover {
  opacity: 0;
  z-index: 2;
}

/* Effetto rifrazione della luce per logo navbar */
.navbar-logo::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.15) 0%,
    rgba(255, 255, 255, 0.08) 40%,
    transparent 70%,
    transparent 100%
  );
  border-radius: 12px 12px 6px 6px;
  pointer-events: none;
  z-index: 1;
}

/* Titolo TPL FVG nella navbar */
.navbar-title {
  color: rgba(255, 255, 255, 1);                 /* Testo bianco pieno */
  font-size: 1.5rem;                              /* Dimensione font grande */
  font-weight: 700;                               /* Peso font bold */
  text-decoration: none;                          /* Nessuna sottolineatura */
  text-shadow: 0 2px 15px rgba(0, 0, 0, 0.6);    /* Ombra testo più forte per leggibilità */
  display: flex;                                 /* Layout flexbox orizzontale */
  align-items: center;                           /* Allineamento verticale centrale */
  gap: 0.5rem;                                   /* Spazio ridotto tra acronimo e testo */
}

.navbar-title .logo-acronym,
.navbar-title .navbar-title-main {
  display: flex;                                 /* Layout flexbox per tpl/fvg */
  flex-direction: column;                        /* Disposizione verticale */
  font-family: 'Arial', sans-serif;             /* Font sans-serif spesso */
  font-weight: 700;                             /* Font molto audace */
  font-size: 1.4rem;                            /* Dimensione media aumentata di un altro punto */
  color: rgba(255, 255, 255, 1);                /* Testo bianco pieno */
  letter-spacing: 0.5px;                        /* Spaziatura tra lettere */
  line-height: 1;                               /* Altezza riga compatta */
  text-shadow: 0 2px 15px rgba(0, 0, 0, 0.6);   /* Ombra testo più forte */
}

.navbar-title .logo-text,
.navbar-title .navbar-title-sub {
  display: flex;                                 /* Layout flexbox per trasporto/pubblico/locale */
  flex-direction: column;                        /* Disposizione verticale */
  font-family: 'Arial', sans-serif;             /* Font sans-serif leggero */
  font-weight: 300;                             /* Font leggero */
  font-size: 0.8rem;                            /* Dimensione piccola aumentata */
  color: rgba(255, 255, 255, 0.9);              /* Testo bianco più visibile */
  letter-spacing: 0.3px;                        /* Spaziatura tra lettere */
  line-height: 1;                               /* Altezza riga compatta */
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);   /* Ombra testo per leggibilità */
}

/* SUBSECTION 7.7: Badge BETA con glassmorphism */
.beta-badge {
  display: inline-flex;                    /* Layout flexbox inline */
  align-items: center;                     /* Allineamento verticale centrale */
  justify-content: center;                 /* Allineamento orizzontale centrale */
  
  /* SUBSECTION 7.7.1: Stile ottimizzato giallo */
  background: rgba(255, 193, 7, 0.9);      /* Sfondo giallo più opaco */
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
  
  /* SUBSECTION 7.7.2: Testo e tipografia */
  color: #ffffff;                          /* Testo bianco */
  font-size: 0.65rem;                      /* Font piccolo */
  font-weight: 800;                        /* Font extra bold */
  letter-spacing: 1px;                     /* Spaziatura tra lettere */
  
  /* SUBSECTION 7.7.3: Dimensioni e bordi */
  padding: 0.25rem 0.6rem;                 /* Padding interno */
  border-radius: 8px;                      /* Bordi arrotondati */
  border: 1px solid rgba(255, 255, 255, 0.4);  /* Bordo bianco trasparente */
  /* SUBSECTION 7.7.4: Effetti visivi finali */
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);      /* Ombra testo */
  box-shadow: 0 2px 10px rgba(255, 193, 7, 0.3);   /* Ombra gialla */
  margin-left: 0.5rem;                              /* Margine sinistro dal titolo */
}



/* SUBSECTION 7.8: Menu di navigazione */
.navbar-nav {
  display: flex;           /* Layout flexbox orizzontale */
  align-items: center;     /* Allineamento verticale centrale */
  gap: 2rem;              /* Spazio tra i link di navigazione */
}

/* SUBSECTION 7.9: Link di navigazione */
.nav-link {
  /* SUBSECTION 7.9.1: Stile base */
  color: rgba(255, 255, 255, 0.95);        /* Testo bianco con 95% opacità */
  text-decoration: none;                    /* Nessuna sottolineatura */
  font-weight: 600;                         /* Peso font semi-bold */
  
  /* SUBSECTION 7.9.2: Dimensioni e bordi */
  padding: 0.5rem 1rem;                     /* Padding interno */
  border-radius: 12px;                      /* Bordi arrotondati */
  position: relative;                       /* Per posizionamento assoluto del ::before */
  
  /* SUBSECTION 7.9.3: Transizioni e effetti */
  transition: all 0.3s ease;                /* Transizione fluida per tutti i cambiamenti */
  background: transparent;                  /* Sfondo trasparente */
  /* backdrop-filter già rimosso per performance */
  /* -webkit-backdrop-filter già rimosso per performance */
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);  /* Ombra testo per leggibilità */
}

/* Effetto rifrazione della luce per nav-link */
.nav-link::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: transparent; /* Gradiente rimosso per performance */
  border-radius: 12px 12px 6px 6px;
  pointer-events: none;
  z-index: 1;
  opacity: 0;
  transition: opacity 0.3s ease;
}

/* SUBSECTION 7.10: Effetto hover sui link */
.nav-link:hover {
  /* SUBSECTION 7.10.1: Sfondo ottimizzato */
  background: rgba(255, 255, 255, 0.2);      /* Sfondo bianco più opaco */
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
  
  /* SUBSECTION 7.10.2: Effetti di movimento */
  transform: translateY(-2px);               /* Solleva leggermente il link */
  box-shadow: 0 4px 15px rgba(255, 255, 255, 0.1);  /* Ombra bianca */
  
  /* SUBSECTION 7.10.3: Testo migliorato */
  color: rgba(255, 255, 255, 1);             /* Testo bianco al 100% */
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.6);  /* Ombra testo più forte */
}

/* Rifrazione visibile al hover */
.nav-link:hover::before {
  opacity: 1;
}

/* SUBSECTION 7.11: Stato attivo dei link */
.nav-link.active {
  /* SUBSECTION 7.11.1: Sfondo ottimizzato attivo */
  background: rgba(255, 255, 255, 0.4);      /* Sfondo bianco più opaco */
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
  border: 1px solid rgba(255, 255, 255, 0.3); /* Bordo bianco trasparente */
  
  /* SUBSECTION 7.11.2: Tipografia attiva */
  font-weight: 700;                          /* Peso font bold */
  color: rgba(255, 255, 255, 1);            /* Testo bianco al 100% */
  
  /* SUBSECTION 7.11.3: Effetti visivi attivi */
  box-shadow: 0 4px 15px rgba(255, 255, 255, 0.2);  /* Ombra bianca più forte */
  text-shadow: 0 2px 12px rgba(0, 0, 0, 0.8);       /* Ombra testo molto forte */
}

/* Rifrazione sempre visibile per stato attivo */
.nav-link.active::before {
  opacity: 1;
}

/* SUBSECTION 7.12: Toggle modalità scura */
.dark-mode-toggle {
  background: none;                    /* Nessuno sfondo */
  border: none;                        /* Nessun bordo */
  color: var(--bianco);                /* Colore bianco per la luna */
  cursor: pointer;                     /* Cursore pointer */
  padding: 0.5rem;                     /* Padding interno */
  border-radius: 6px;                  /* Bordi arrotondati */
  transition: all 0.3s ease;           /* Transizione fluida */
  position: relative;                  /* Per posizionamento assoluto del ::before */
}

/* Effetto rifrazione della luce per dark-mode-toggle */
.dark-mode-toggle::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: transparent; /* Gradiente rimosso per performance */
  border-radius: 6px 6px 3px 3px;
  pointer-events: none;
  z-index: 1;
  opacity: 0;
  transition: opacity 0.3s ease;
}

/* Icona del sole in dark mode */
.dark .dark-mode-toggle {
  color: #fbbf24;                      /* Colore giallo dorato per il sole */
}

.dark-mode-toggle:hover {
  background-color: rgba(255, 255, 255, 0.1);  /* Sfondo bianco trasparente al hover */
}

/* Rifrazione visibile al hover */
.dark-mode-toggle:hover::before {
  opacity: 1;
}

/* ========================================
   SEZIONE 8: MAIN CONTENT E MAIN CARD
   ======================================== */
/* SUBSECTION 8.1: Area contenuto principale */
.main-content {
  padding: 0;                    /* Nessun padding */
  flex: 1;                      /* Occupa tutto lo spazio disponibile */
  display: flex;                /* Layout flexbox */
  align-items: center;          /* Allineamento verticale centrale */
  justify-content: center;      /* Allineamento orizzontale centrale */
  overflow: visible;            /* Contenuto visibile senza scroll */
  min-height: 0;                /* Altezza minima zero */
}

/* SUBSECTION 8.2: Layout specifico per pagine tratte e tariffe */
.fermate-page {
  display: flex;                /* Layout flexbox */
  flex-direction: column;       /* Direzione verticale */
  min-height: 100vh;           /* Altezza minima viewport */
}

/* Main content per pagine tratte */
.fermate-page .main-content {
  min-height: auto;            /* Altezza minima automatica */
  align-items: flex-start;     /* Allineamento in alto */
  padding: 1rem 0;            /* Padding verticale */
  flex: 1;                    /* Occupa spazio disponibile */
  overflow: visible;          /* Contenuto visibile */
}

/* SUBSECTION 8.3: Layout ottimizzato per pagina benvenuto */
body:not(.fermate-page) .main-content {
  align-items: center;         /* Allineamento centrale */
  padding: 1rem 0;           /* Padding verticale */
}

/* Card principale per pagine non-tratte */
body:not(.fermate-page) .main-card {
  max-width: 600px !important;  /* Larghezza massima 600px */
  padding: 2rem;               /* Padding interno */
  margin: 1rem auto !important; /* Margine automatico e centrato */
}

/* SUBSECTION 8.4: Card principale con glassmorphism */
.main-card {
  /* SUBSECTION 8.4.1: Sfondo ottimizzato */
  background: var(--glass-bg);                    /* Sfondo semi-opaco */
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
  
  /* SUBSECTION 8.4.2: Forma e dimensioni */
  border-radius: 24px;                           /* Bordi molto arrotondati */
  padding: 1.25rem;                              /* Padding interno */
  width: 95% !important;                         /* Larghezza 95% */
  max-width: 600px !important;                   /* Larghezza massima 600px */
  margin: 0.25rem auto !important;               /* Margine minimo e centrato */
  
  /* SUBSECTION 8.4.3: Ombreggiatura con effetto rifrazione */
  box-shadow: var(--glass-shadow); /* Ombra semplificata */
  
  /* SUBSECTION 8.4.4: Bordi e layout */
  border: 1px solid var(--glass-border);         /* Bordo trasparente */
  box-sizing: border-box;                        /* Include bordi nel calcolo */
  max-height: 100%;                              /* Altezza massima */
  overflow-y: auto;                              /* Scroll verticale se necessario */
  position: relative;                            /* Per posizionamento assoluto del ::before */
  
  /* SUBSECTION 8.4.5: Transizioni RIMOSSE per eliminare effetti hover */
  /* transition: box-shadow 0.3s ease; - COMMENTATO */
}

/* Effetto rifrazione della luce per main-card */
.main-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: transparent; /* Gradiente rimosso per performance */
  border-radius: 24px 24px 12px 12px;
  pointer-events: none;
  z-index: 1;
}

/* SUBSECTION 8.4.6: EFFETTO HOVER RIMOSSO - Nessun hover per .main-card */
/* .main-card:hover { box-shadow: 0 12px 40px 0 rgba(31, 38, 135, 0.45); } - RIMOSSO */


/* SUBSECTION 8.5: Media query per schermi medi (600px+) */
@media (min-width: 600px) {
  .main-card {
    width: 94% !important;           /* Larghezza 94% */
    max-width: 650px !important;     /* Larghezza massima 650px */
    padding: 1.75rem;               /* Padding maggiore */
    margin: 0.25rem auto !important; /* Margine centrato */
  }
  
  /* Card per pagine non-tratte */
  body:not(.fermate-page) .main-card {
    max-width: 650px !important;     /* Larghezza massima 650px */
    padding: 2rem;                  /* Padding ancora maggiore */
  }
}

/* SUBSECTION 8.6: Media query per schermi grandi (900px+) */
@media (min-width: 900px) {
  .main-card {
    width: 92% !important;           /* Larghezza 92% */
    max-width: 700px !important;     /* Larghezza massima 700px */
    padding: 2rem;                  /* Padding standard */
    margin: 0.25rem auto !important; /* Margine centrato */
  }
  
  /* Card per pagine non-tratte */
  body:not(.fermate-page) .main-card {
    max-width: 700px !important;     /* Larghezza massima 700px */
    padding: 2.5rem;                /* Padding maggiore */
  }
}

/* SUBSECTION 8.7: Media query per schermi molto grandi (992px+) */
@media (min-width: 992px) {
  .main-card {
    width: 97% !important;           /* Larghezza 97% */
    max-width: 750px !important;     /* Larghezza massima 750px */
    padding: 2rem;                  /* Padding standard */
    margin: 0.25rem auto !important; /* Margine centrato */
  }
  
  /* Card per pagine non-tratte */
  body:not(.fermate-page) .main-card {
    max-width: 750px !important;     /* Larghezza massima 750px */
    padding: 3rem;                  /* Padding massimo */
  }

  /* Container principale */
  .main-content>.container {
    max-width: 1800px !important;    /* Larghezza massima container */
    display: flex;                    /* Layout flexbox */
    justify-content: center;          /* Centra orizzontalmente */
    align-items: center;              /* Centra verticalmente */
    padding: 0 1rem;                 /* Padding laterale */
  }
}

/* SUBSECTION 8.8: Layout mobile - forza layout verticale */
@media (max-width: 991px) {
  /* Main card in layout verticale */
  #main-app .main-card {
    display: block !important;        /* Layout a blocchi verticali */
  }

  /* Reset griglia per elementi interni */
  #main-app .card-title,
  #main-app .form-group,
  #main-app .route-section,
  #main-app .calculate-section,
  #main-app .price-result,
  #main-app .history-section {
    grid-column: unset !important;    /* Reset colonne griglia */
    grid-row: unset !important;       /* Reset righe griglia */
  }

  #main-app .price-result {
    background: rgba(255, 255, 255, 0.95);
    /* backdrop-filter rimosso per performance */
    /* -webkit-backdrop-filter rimosso per performance */
    border-radius: 20px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.3);
    margin: 1rem 0;
    min-height: auto;
  }
}

/* SUBSECTION 8.9: Media query per schermi extra grandi (1600px+) */
@media (min-width: 1600px) {
  .main-card {
    width: 95% !important;           /* Larghezza 95% */
    max-width: 900px !important;     /* Larghezza massima 900px */
    padding: 2rem;                  /* Padding standard */
    margin: 0.25rem auto !important; /* Margine centrato */
  }
  
  /* Card per pagine non-tratte */
  body:not(.fermate-page) .main-card {
    max-width: 850px !important;     /* Larghezza massima 850px */
    padding: 2.5rem;                /* Padding maggiore */
  }
}

/* SUBSECTION 8.10: Eccezione per pagine tratte/tariffe - layout verticale normale */
.fermate-page .main-content>.container {
    display: block !important;        /* Layout a blocchi */
    align-items: normal;             /* Allineamento normale */
    overflow: visible;               /* Contenuto visibile */
  }

  /* SUBSECTION 8.11: Layout a due colonne per desktop */
  #main-app .main-card {
    display: grid;                    /* Layout a griglia */
    grid-template-columns: 1fr 1fr;   /* Due colonne uguali */
    gap: 2rem;                       /* Spazio tra le colonne */
    align-items: start;              /* Allineamento in alto */
  }

  /* Titolo della card - occupa tutta la larghezza */
  #main-app .card-title {
    grid-column: 1 / -1;            /* Dalla prima all'ultima colonna */
    margin-bottom: 1.2rem;          /* Margine inferiore */
  }

  /* Gruppo form - occupa tutta la larghezza */
  #main-app .form-group {
    grid-column: 1 / -1;            /* Dalla prima all'ultima colonna */
    margin-bottom: 1.5rem;          /* Margine inferiore */
  }

  /* Sezione route - prima colonna */
  #main-app .route-section {
    grid-column: 1 / 2;             /* Prima colonna */
  }

  /* Sezione calcolo - prima colonna */
  #main-app .calculate-section {
    grid-column: 1 / 2;             /* Prima colonna */
    margin-top: 1rem;               /* Margine superiore */
  }

  /* Risultato prezzo - seconda colonna */
  #main-app .price-result {
    grid-column: 2 / 3;             /* Seconda colonna */
    grid-row: 3 / 5;                /* Dalla terza alla quinta riga */
    display: flex;                  /* Layout flexbox */
    flex-direction: column;         /* Direzione verticale */
    justify-content: center;        /* Centra verticalmente */
    align-items: center;            /* Centra orizzontalmente */
    background: rgba(255, 255, 255, 0.95);  /* Sfondo bianco più opaco */
    /* backdrop-filter rimosso per performance */
    /* -webkit-backdrop-filter rimosso per performance */
    border-radius: 20px;            /* Bordi arrotondati */
    padding: 2rem;                  /* Padding interno */
    border: 1px solid rgba(255, 255, 255, 0.3);  /* Bordo bianco trasparente */
    min-height: 250px;              /* Altezza minima */
  }

  /* Sezione cronologia - occupa tutta la larghezza */
  #main-app .history-section {
    grid-column: 1 / -1;            /* Dalla prima all'ultima colonna */
  }


/* ========================================
   SEZIONE 9: FORM ELEMENTS
   ======================================== */
/* SUBSECTION 9.1: Titolo della card */
.card-title {
  text-align: center;              /* Testo centrato */
  margin-bottom: 1.5rem;           /* Margine inferiore */
}

/* Titolo principale H1 */
.card-title h1 {
  font-size: 2rem;                 /* Dimensione font grande */
  font-weight: 800;                /* Peso font extra bold */
  color: rgba(15, 23, 42, 0.95);   /* Colore scuro con 95% opacità */
  text-shadow: 0 2px 15px rgba(255, 255, 255, 0.3);  /* Ombra testo bianca */
  margin-bottom: 0.3rem;           /* Margine inferiore ridotto */
}

/* Sottotitolo/descrizione */
.card-title p {
  font-size: 1.05rem;              /* Dimensione font media */
  color: rgba(51, 65, 85, 0.8);    /* Colore grigio con 80% opacità */
  max-width: 90%;                  /* Larghezza massima 90% */
  margin: 0 auto;                  /* Centra orizzontalmente */
  text-shadow: 0 1px 5px rgba(255, 255, 255, 0.2);  /* Ombra testo leggera */
}

/* SUBSECTION 9.2: Elementi del form */
.form-group {
  margin-bottom: 1.2rem;           /* Margine inferiore tra i gruppi */
}

/* Etichette del form */
.form-label {
  display: block;                   /* Display a blocchi */
  font-weight: 600;                 /* Peso font semi-bold */
  color: rgba(30, 41, 59, 0.9);    /* Colore scuro con 90% opacità */
  margin-bottom: 0.3rem;            /* Margine inferiore */
  text-shadow: 0 1px 3px rgba(255, 255, 255, 0.2);  /* Ombra testo leggera */
}

/* Selettori del form con glassmorphism */
.form-select {
  width: 100%;                      /* Larghezza completa */
  padding: 0.6rem 0.8rem;           /* Padding interno */
  border: 1px solid var(--glass-border);  /* Bordo trasparente */
  border-radius: 12px;              /* Bordi arrotondati */
  background: var(--glass-bg);      /* Sfondo semi-opaco */
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
  color: rgba(15, 23, 42, 0.95);   /* Colore testo scuro */
  font-size: 1rem;                  /* Dimensione font standard */
  transition: all 0.3s ease;        /* Transizione fluida */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);  /* Ombra leggera per visibilità */
  font-weight: 500;                  /* Peso font medium */
  position: relative;               /* Per posizionamento assoluto del ::before */
}

/* Effetto rifrazione della luce per form-select */
.form-select::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: transparent; /* Gradiente rimosso per performance */
  border-radius: 12px 12px 6px 6px;
  pointer-events: none;
  z-index: 1;
  opacity: 0;
  transition: opacity 0.3s ease;
}

/* Opzioni del selettore */
.form-select option {
  background: rgba(30, 41, 59, 0.95);  /* Sfondo scuro per le opzioni */
  color: #ffffff;                    /* Testo bianco */
}

/* Stato focus del selettore */
.form-select:focus {
  outline: none;                     /* Rimuove il bordo di default */
  border-color: var(--turchese);     /* Bordo turchese al focus */
  box-shadow: 0 0 0 3px rgba(23, 183, 177, 0.1);  /* Ombra turchese */
  background: rgba(255, 255, 255, 0.35);  /* Sfondo più opaco */
}

/* Rifrazione visibile al focus */
.form-select:focus::before {
  opacity: 1;
}

/* Stato disabilitato del selettore */
.form-select:disabled {
  background: rgba(233, 236, 239, 0.3);  /* Sfondo grigio trasparente */
  cursor: not-allowed;                   /* Cursore non consentito */
  opacity: 0.6;                         /* Opacità ridotta */
}

/* SUBSECTION 9.3: Sezione partenza/arrivo */
.route-section {
  position: relative;                     /* Posizione relativa per il pulsante swap */
  background: rgba(255, 255, 255, 0.3);  /* Sfondo bianco più opaco */
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
  border-radius: 20px;                    /* Bordi arrotondati */
  padding: 1.5rem;                       /* Padding interno */
  margin: 1rem 0;                        /* Margine verticale */
  border: 1px solid rgba(255, 255, 255, 0.2);  /* Bordo bianco trasparente */
  display: flex;                          /* Layout flex */
  flex-direction: row;                    /* Direzione orizzontale */
  align-items: flex-start;                /* Allineamento verticale in alto */
  padding-top: 0.2rem;                   /* Padding superiore ulteriormente ridotto per spostare le caselle ancora più in alto */
  gap: 1.5rem;                           /* Gap maggiore tra le caselle */
  padding-right: 4rem;                   /* Padding destro maggiore per il pulsante */
}

/* Effetto rifrazione della luce per route-section */
.route-section::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: transparent; /* Gradiente rimosso per performance */
  border-radius: 20px 20px 10px 10px;
  pointer-events: none;
  z-index: 1;
  opacity: 1;
  transition: opacity 0.3s ease;
}

/* Campo route singolo */
/* Stili per le etichette esterne */
.route-label {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  flex: 1 1 40%;  /* Occupa il 40% dello spazio per fare più spazio al pulsante */
  min-width: 0;  /* Permette al flex di funzionare correttamente */
  align-items: flex-start;  /* Allinea tutto a sinistra */
  padding-left: 0;          /* Rimuove padding sinistro */
  margin-left: 0;           /* Rimuove margine sinistro */
}

.route-icon {
  display: flex;
  align-items: center;
  gap: 0.25rem;               /* Gap ridotto tra emoji e testo */
  font-weight: 600;
  color: var(--testo-principale);
  font-size: 0.9rem;
  justify-content: flex-start;  /* Allinea a sinistra */
  text-align: left;             /* Testo allineato a sinistra */
  width: 100%;                  /* Larghezza completa */
  margin: 0;                    /* Rimuove margini */
  padding: 0;                   /* Rimuove padding */
  white-space: nowrap;          /* Evita che il testo vada a capo */
  min-width: 120px;             /* Larghezza minima per simmetria */
}

.route-icon span:last-child {
  display: inline;
  min-width: 80px;              /* Larghezza minima per simmetria del testo */
  text-align: left;             /* Allineamento a sinistra */
}

.route-field {
  margin-bottom: 0.75rem;                /* Margine inferiore */
}

/* Select route a tema glassmorphism */
.route-select {
  width: 100%;                          /* Larghezza completa */
  min-width: 0;                         /* Permette al flex di funzionare */
  padding: 0.75rem;                     /* Padding interno */
  border: 1px solid var(--glass-border);  /* Bordo glassmorphism */
  border-radius: 12px;                  /* Bordi arrotondati */
  font-size: 1rem;                      /* Dimensione font */
  background: var(--glass-bg);          /* Sfondo ottimizzato */
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
  color: var(--testo-principale);       /* Colore testo principale */
  transition: all 0.3s ease;           /* Transizione fluida */
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2), 0 2px 8px rgba(255, 255, 255, 0.3);  /* Ombra più visibile */
  appearance: none;                     /* Rimuove lo stile di default del browser */
  -webkit-appearance: none;             /* Supporto WebKit */
  -moz-appearance: none;                /* Supporto Firefox */
  position: relative;                   /* Per posizionamento assoluto del ::before */
}

/* Effetto rifrazione della luce per route-select */
.route-select::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: transparent; /* Gradiente rimosso per performance */
  border-radius: 12px 12px 6px 6px;
  pointer-events: none;
  z-index: 1;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.route-select {
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23374151' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");  /* Freccia custom */
  background-repeat: no-repeat;         /* Non ripete l'immagine */
  background-position: right 0.75rem center;  /* Posizione freccia */
  background-size: 1rem;                /* Dimensione freccia */
  padding-right: 2.5rem;                /* Spazio per la freccia */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);  /* Ombra leggera */
}

.route-select:focus {
  outline: none;                        /* Rimuove outline di default */
  border-color: var(--turchese);        /* Bordo turchese al focus */
  box-shadow: 0 0 0 3px rgba(23, 183, 177, 0.1);  /* Ombra turchese */
}

/* Rifrazione visibile al focus */
.route-select:focus::before {
  opacity: 1;
}

.route-select:disabled {
  background: rgba(243, 244, 246, 0.3);  /* Sfondo grigio trasparente quando disabilitato */
  color: var(--testo-secondario);       /* Testo secondario quando disabilitato */
  cursor: not-allowed;                 /* Cursore non consentito */
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
  background-image: none;              /* Rimuove la freccia dropdown quando disabilitato */
}

/* Pulsante swap a tema glassmorphism, posizionato alla destra della sezione route */
.route-section .swap-btn {
  position: absolute;             /* Posizione assoluta */
  top: 50%;                      /* Posizione verticale centrata */
  right: 10px;                   /* Posizionato alla destra della sezione route */
  transform: translateY(-50%);   /* Centra verticalmente */
  background: var(--glass-bg);    /* Sfondo ottimizzato */
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
  color: var(--testo-principale); /* Colore testo principale */
  border: 1px solid var(--glass-border);  /* Bordo glassmorphism */
  border-radius: 50%;             /* Forma circolare */
  width: 40px;                    /* Larghezza ridotta */
  height: 40px;                   /* Altezza ridotta */
  cursor: pointer;                /* Cursore pointer */
  display: flex;                  /* Layout flexbox */
  align-items: center;            /* Allineamento verticale */
  justify-content: center;        /* Allineamento orizzontale */
  transition: all 0.3s ease;     /* Transizione fluida */
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15), 0 2px 8px rgba(255, 255, 255, 0.3);  /* Ombra più profonda */
  z-index: 10;                    /* Sopra altri elementi */
}

.route-section .swap-btn:hover {
  transform: translateY(-50%) scale(1.1);  /* Mantiene posizione e ingrandisce */
  box-shadow: 0 8px 25px rgba(255, 255, 255, 0.4);  /* Ombra bianca più forte */
  background: rgba(255, 255, 255, 0.4);  /* Sfondo bianco trasparente al hover */
  border-color: rgba(255, 255, 255, 0.6);  /* Bordo bianco più opaco */
}

.route-section .swap-btn span {
  font-size: 1.2rem;             /* Dimensione icona */
  font-weight: bold;             /* Peso font bold */
}

/* Stili dark mode per route section */
.dark .route-select {
  background: var(--glass-bg-dark);      /* Sfondo glassmorphism scuro */
  color: rgba(248, 250, 252, 0.95);     /* Testo chiaro */
  border-color: var(--glass-border-dark);  /* Bordo glassmorphism scuro */
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3), 0 2px 8px rgba(255, 255, 255, 0.15);  /* Ombra scura più visibile */
}

.dark .route-select:focus {
  border-color: var(--turchese);        /* Bordo turchese al focus */
  box-shadow: 0 0 0 3px rgba(23, 183, 177, 0.2);  /* Ombra turchese più forte */
}

.dark .route-select:disabled {
  background: rgba(30, 41, 59, 0.3);   /* Sfondo scuro trasparente quando disabilitato */
  color: rgba(148, 163, 184, 0.7);    /* Testo grigio quando disabilitato */
  background-image: none;              /* Rimuove la freccia dropdown quando disabilitato */
}

.dark .route-section .swap-btn {
  background: var(--glass-bg-dark);      /* Sfondo glassmorphism scuro */
  color: rgba(248, 250, 252, 0.95);     /* Testo chiaro */
  border-color: var(--glass-border-dark);  /* Bordo glassmorphism scuro */
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25), 0 2px 8px rgba(255, 255, 255, 0.1);  /* Ombra scura più profonda */
}

.dark .route-section .swap-btn:hover {
  transform: translateY(-50%) scale(1.1);  /* Mantiene posizione e ingrandisce */
  background: rgba(255, 255, 255, 0.1);  /* Sfondo bianco trasparente al hover */
  border-color: rgba(255, 255, 255, 0.3);  /* Bordo bianco trasparente */
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);  /* Ombra scura più forte */
}

/* Riga della route */
.route-row {
  display: flex;                   /* Layout flexbox orizzontale */
  align-items: center;             /* Allineamento verticale centrale */
  gap: 1rem;                      /* Spazio tra gli elementi */
  margin-bottom: 1.2rem;          /* Margine inferiore */
}

/* Ultima riga senza margine */
.route-row:last-child {
  margin-bottom: 0;               /* Nessun margine inferiore */
}

/* Icona della route */
.route-icon {
  display: flex;                   /* Layout flexbox */
  align-items: center;             /* Allineamento verticale centrale */
  font-size: 1.2rem;              /* Dimensione font grande */
  flex-shrink: 0;                   /* Non si rimpicciolisce */
  gap: 0.5rem;                     /* Spazio tra icona e testo */
  min-width: 120px;                /* Larghezza minima */
}

/* Prima icona (emoji) */
.route-icon span:first-child {
  font-size: 1.5rem;              /* Dimensione font grande */
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));  /* Ombra dell'icona */
}

/* Testo dell'icona */
.route-icon span:last-child {
  font-weight: 600;               /* Peso font semi-bold */
  min-width: 80px;                /* Larghezza minima */
  color: rgba(30, 41, 59, 0.9);   /* Colore scuro con 90% opacità */
  text-shadow: 0 1px 3px rgba(255, 255, 255, 0.2);  /* Ombra testo leggera */
}

/* Selettore della route */
.route-select {
  flex: 1;                        /* Occupa tutto lo spazio rimanente */
}

/* ========================================
   SEZIONE 10: BOTTONI E PULSANTI
   ======================================== */
/* SEZIONE 10.1: Container pulsante swap rimosso - ora posizionato assoluto */

/* SEZIONE 10.2: Pulsante swap (inverti percorso) */
.swap-btn {
  /* SEZIONE 10.2.1: Stile glassmorphism */
  background: var(--glass-bg);                    /* Sfondo trasparente */
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
  border: 1px solid var(--glass-border);         /* Bordo trasparente */
  border-radius: 50px;                           /* Bordi completamente arrotondati */
  position: relative;                            /* Per posizionamento assoluto del ::before */
  
  /* SEZIONE 10.2.2: Dimensioni e layout */
  padding: 0.7rem 1rem;                          /* Padding interno */
  display: flex;                                 /* Layout flexbox */
  align-items: center;                          /* Allineamento verticale centrale */
  justify-content: center;                      /* Allineamento orizzontale centrale */
  min-width: 50px;                              /* Larghezza minima */
  
  /* SEZIONE 10.2.3: Interattività */
  cursor: pointer;                               /* Cursore pointer */
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);  /* Transizione fluida */
  
  /* SEZIONE 10.2.4: Tipografia */
  font-size: 1.1rem;                            /* Dimensione font grande */
  color: var(--testo-principale);               /* Colore testo principale */
  font-weight: 600;                             /* Peso font semi-bold */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);   /* Ombra testo leggera */
  
  /* SEZIONE 10.2.5: Effetti visivi */
  box-shadow: var(--glass-shadow);              /* Ombra glassmorphism */
  position: relative;                           /* Posizione relativa */
  overflow: hidden;                             /* Nasconde contenuto che esce */
}

/* SEZIONE 10.2.6: Effetto rifrazione del pulsante swap */
.swap-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: transparent; /* Gradiente rimosso per performance */
  border-radius: 50px 50px 25px 25px;
  pointer-events: none;
  z-index: 1;
  opacity: 0;
  transition: opacity 0.3s ease;
}

/* Rifrazione visibile al hover */
.swap-btn:hover::before {
  opacity: 1;
}

/* SEZIONE 10.2.7: Effetto hover del pulsante swap */
.swap-btn:hover {
  transform: translateY(-3px) scale(1.05);  /* Solleva e ingrandisce leggermente */
  box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15),  /* Ombra più forte */
    0 5px 15px rgba(255, 255, 255, 0.2);      /* Ombra bianca */
  /* border-color: rgba(23, 183, 177, 0.5);     /* Bordo turchese RIMOSSO */
  border-color: rgba(255, 255, 255, 0.4);     /* Bordo bianco trasparente */
  background: rgba(255, 255, 255, 0.35);     /* Sfondo più opaco */
}

/* SEZIONE 10.2.8: Effetto active del pulsante swap */
.swap-btn:active {
  transform: translateY(-1px) scale(0.98);  /* Leggero abbassamento e rimpicciolimento */
  transition: all 0.1s ease;                /* Transizione veloce */
}

/* SEZIONE 10.2.9: Stato disabilitato del pulsante swap */
.swap-btn:disabled {
  opacity: 0.5;                            /* Opacità ridotta */
  cursor: not-allowed;                     /* Cursore non consentito */
  transform: none;                         /* Nessuna trasformazione */
}

/* SEZIONE 10.2.10: Span del pulsante swap */
.swap-btn span {
  transition: transform 0.3s ease;  /* Transizione della rotazione */
  position: relative;               /* Posizione relativa */
  z-index: 1;                       /* Sopra l'effetto shimmer */
}

/* Rotazione dell'icona al click */
.swap-btn:active span {
  transform: rotate(180deg);        /* Ruota l'icona di 180 gradi */
}



/* SEZIONE 10.3: Sezione pulsante calcola */
.calculate-section {
  text-align: center;              /* Testo centrato */
  margin: 1.2rem 0;               /* Margine verticale */
  display: flex;                  /* Layout flexbox */
  flex-direction: column;         /* Direzione verticale */
  align-items: center;            /* Allineamento centrale */
  gap: 0.8rem;                   /* Spazio tra gli elementi */
}

/* SEZIONE 10.4: Pulsante calcola */
.calculate-btn {
  /* SEZIONE 10.4.1: Stile glassmorphism bianco */
  /* background: rgba(23, 183, 177, 0.6);    /* Sfondo turchese trasparente RIMOSSO */
  background: rgba(255, 255, 255, 0.6);    /* Sfondo bianco trasparente */
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
  color: #1e293b;                        /* Testo scuro */
  border: 1px solid rgba(255, 255, 255, 0.3);  /* Bordo bianco trasparente */
  
  /* SEZIONE 10.4.2: Dimensioni e layout */
  padding: 1rem 2rem;                   /* Padding interno */
  border-radius: 16px;                  /* Bordi arrotondati */
  width: 100%;                          /* Larghezza completa */
  max-width: 300px;                     /* Larghezza massima */
  
  /* SEZIONE 10.4.3: Tipografia */
  font-size: 1.1rem;                   /* Dimensione font grande */
  font-weight: 600;                    /* Peso font semi-bold */
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);  /* Ombra testo leggera */
  
  /* SEZIONE 10.4.4: Interattività */
  cursor: pointer;                     /* Cursore pointer */
  transition: all 0.3s ease;          /* Transizione fluida */
  
  /* SEZIONE 10.4.5: Effetti visivi */
  /* box-shadow: 0 4px 15px rgba(23, 183, 177, 0.3);  /* Ombra turchese RIMOSSA */
  box-shadow: 0 4px 15px rgba(255, 255, 255, 0.3);  /* Ombra bianca */
}

/* SEZIONE 10.4.6: Effetto hover del pulsante calcola */
.calculate-btn:hover {
  /* background: rgba(23, 183, 177, 0.8);    /* Sfondo turchese più opaco RIMOSSO */
  background: rgba(255, 255, 255, 0.8);    /* Sfondo bianco più opaco */
  transform: translateY(-3px);            /* Solleva il pulsante */
  /* box-shadow: 0 8px 25px rgba(23, 183, 177, 0.5);  /* Ombra turchese più forte RIMOSSA */
  box-shadow: 0 8px 25px rgba(255, 255, 255, 0.5);  /* Ombra bianca più forte */
  border-color: rgba(255, 255, 255, 0.5); /* Bordo bianco più opaco */
}

/* SEZIONE 10.4.7: Stato disabilitato del pulsante calcola */
.calculate-btn:disabled {
  background: rgba(108, 117, 125, 0.3);   /* Sfondo grigio trasparente */
  cursor: not-allowed;                    /* Cursore non consentito */
  transform: none;                        /* Nessuna trasformazione */
  box-shadow: none;                       /* Nessuna ombra */
  border-color: rgba(255, 255, 255, 0.1); /* Bordo bianco molto trasparente */
}

/* SEZIONE 10.5: Pulsante modalità scura */
.dark-mode-btn {
  background-color: transparent;     /* Sfondo trasparente */
  color: var(--testo-principale);    /* Colore testo principale */
  border: 2px solid var(--grigio-scuro);  /* Bordo grigio scuro */
  padding: 0.75rem 1.5rem;          /* Padding interno */
  border-radius: 8px;               /* Bordi arrotondati */
  font-size: 1rem;                  /* Dimensione font standard */
  font-weight: 500;                 /* Peso font medium */
  cursor: pointer;                  /* Cursore pointer */
  transition: all 0.3s ease;       /* Transizione fluida */
  display: flex;                    /* Layout flexbox */
  align-items: center;              /* Allineamento verticale centrale */
  justify-content: center;          /* Allineamento orizzontale centrale */
  gap: 0.5rem;                     /* Spazio tra icona e testo */
  width: 100%;                     /* Larghezza completa */
  max-width: 300px;                /* Larghezza massima */
}

.dark-mode-btn:hover {
  background-color: var(--grigio-scuro);  /* Sfondo grigio scuro al hover */
  color: var(--bianco);                   /* Testo bianco al hover */
  transform: translateY(-1px);            /* Leggero sollevamento */
}

.dark-mode-btn.dark-mode-active {
  background-color: var(--testo-principale);  /* Sfondo scuro quando attivo */
  color: var(--bianco);                       /* Testo bianco quando attivo */
  border-color: var(--testo-principale);      /* Bordo scuro quando attivo */
}

.dark-mode-btn.dark-mode-active:hover {
  background-color: var(--grigio-scuro);    /* Sfondo grigio scuro al hover quando attivo */
  border-color: var(--grigio-scuro);        /* Bordo grigio scuro al hover quando attivo */
}

.dark-mode-btn span:first-child {
  font-size: 1.25rem;                      /* Dimensione font grande per l'icona */
}

/* SEZIONE 10.6: Dark mode per pulsante modalità scura */
.dark .dark-mode-btn {
  color: var(--testo-principale);        /* Colore testo principale in dark mode */
  border-color: var(--bordo);            /* Colore bordo in dark mode */
}

.dark .dark-mode-btn:hover {
  background-color: var(--bordo);        /* Sfondo bordo al hover in dark mode */
  color: var(--testo-principale);        /* Colore testo principale al hover in dark mode */
}

.dark .dark-mode-btn.dark-mode-active {
  background-color: var(--testo-principale);  /* Sfondo scuro quando attivo in dark mode */
  color: var(--bianco);                       /* Testo bianco quando attivo in dark mode */
  border-color: var(--testo-principale);      /* Bordo scuro quando attivo in dark mode */
}

.dark .dark-mode-btn.dark-mode-active:hover {
  background-color: var(--grigio-scuro);    /* Sfondo grigio scuro al hover attivo in dark mode */
  border-color: var(--grigio-scuro);        /* Bordo grigio scuro al hover attivo in dark mode */
}

/* SEZIONE 10.7: Dark mode per navbar */
.dark .nav-link {
  color: rgba(255, 255, 255, 0.95);        /* Testo bianco con 95% opacità in dark mode */
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.6);  /* Ombra testo più forte in dark mode */
}

.dark .nav-link:hover {
  color: rgba(255, 255, 255, 1);           /* Testo bianco al 100% al hover in dark mode */
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.8);  /* Ombra testo ancora più forte al hover in dark mode */
}

.dark .nav-link.active {
  background: rgba(255, 255, 255, 0.15);    /* Sfondo bianco trasparente quando attivo in dark mode */
  border: 1px solid rgba(255, 255, 255, 0.2);  /* Bordo bianco trasparente quando attivo in dark mode */
  color: rgba(255, 255, 255, 1);           /* Testo bianco al 100% quando attivo in dark mode */
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
  text-shadow: 0 2px 12px rgba(0, 0, 0, 0.9);
}

/* SEZIONE 10.8: Pulsante swap in dark mode */
.dark .swap-btn {
  background: var(--glass-bg-dark);        /* Sfondo glassmorphism scuro */
  color: rgba(255, 255, 255, 0.95);       /* Testo bianco con 95% opacità */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);  /* Ombra testo per leggibilità */
  border-color: var(--glass-border-dark);  /* Bordo glassmorphism scuro */
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3),  /* Ombra più forte in dark mode */
    0 2px 4px rgba(0, 0, 0, 0.2);         /* Ombra aggiuntiva */
}

.dark .swap-btn:hover {
  background: rgba(255, 255, 255, 0.2);   /* Sfondo bianco trasparente al hover */
  /* border-color: rgba(23, 183, 177, 0.6);  /* Bordo turchese al hover RIMOSSO */
  border-color: rgba(255, 255, 255, 0.4);  /* Bordo bianco trasparente al hover */
  box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4),  /* Ombra molto forte al hover */
    0 5px 15px rgba(255, 255, 255, 0.2);   /* Ombra bianca al hover */
}



/* ========================================
   SEZIONE 11: RISULTATI E PREZZI
   ======================================== */
/* SEZIONE 11.1: Tratte e tariffe in dark mode - Glassmorphism */
.dark .fermate-card {
  background: rgba(30, 41, 59, 0.5);      /* Sfondo scuro trasparente */
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
  border-color: rgba(148, 163, 184, 0.2); /* Bordo grigio chiaro trasparente */
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);  /* Ombra ultra leggera in dark mode */
}


/* SEZIONE 11.2: Form select in dark mode */
.dark .form-select {
  color: rgba(248, 250, 252, 0.95);      /* Testo chiaro con 95% opacità in dark mode */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3); /* Ombra scura per visibilità */
}

/* SEZIONE 11.3: Titoli delle card tratte in dark mode */
.dark .fermate-card h3 {
  color: rgba(255, 255, 255, 0.95);      /* Testo bianco con 95% opacità */
  border-bottom-color: rgba(255, 255, 255, 0.6);  /* Bordo inferiore bianco più marcato */
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.7);     /* Ombra testo molto forte */
}

/* SEZIONE 11.4: Titoli, etichette e testo in dark mode */
.dark .card-title h1 {
  color: rgba(241, 245, 249, 0.95);      /* Testo chiaro con 95% opacità */
  text-shadow: 0 2px 15px rgba(0, 0, 0, 0.5);  /* Ombra testo forte */
}

.dark .card-title p {
  color: rgba(203, 213, 225, 0.85);      /* Testo grigio chiaro con 85% opacità */
  text-shadow: 0 1px 5px rgba(0, 0, 0, 0.3);   /* Ombra testo leggera */
}

.dark .form-label {
  color: rgba(226, 232, 240, 0.9);       /* Testo grigio molto chiaro con 90% opacità */
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);   /* Ombra testo leggera */
}

.dark .route-icon span:last-child {
  color: rgba(226, 232, 240, 0.9);       /* Testo grigio molto chiaro con 90% opacità */
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);  /* Ombra testo leggera */
}

/* SEZIONE 11.5: Etichetta prezzo in dark mode */
.dark .price-label {
  color: rgba(203, 213, 225, 0.8);       /* Testo grigio chiaro con 80% opacità */
}

/* SEZIONE 11.6: Codice prezzo in dark mode */
.dark .price-code {
  color: rgba(248, 250, 252, 0.95);      /* Testo chiaro con 95% opacità */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);  /* Ombra testo leggera */
}

/* SEZIONE 11.7: Elemento tratte in dark mode */
.dark .fermate-item {
  background: rgba(30, 41, 59, 0.6);      /* Sfondo scuro trasparente */
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
  border-color: rgba(148, 163, 184, 0.3); /* Bordo grigio chiaro trasparente */
  color: rgba(248, 250, 252, 0.95);      /* Testo chiaro con 95% opacità */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);  /* Ombra testo per leggibilità */
}

/* SEZIONE 11.8: Effetto hover elemento tratte in dark mode */
.dark .fermate-item:hover {
  /* background: rgba(23, 183, 177, 0.4);    /* Sfondo turchese trasparente al hover RIMOSSO */
  background: rgba(255, 255, 255, 0.1);    /* Sfondo bianco trasparente al hover */
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
  color: #ffffff;                         /* Testo bianco al hover */
  /* border-color: rgba(78, 205, 196, 0.5); /* Bordo turchese più chiaro al hover RIMOSSO */
  border-color: rgba(255, 255, 255, 0.3); /* Bordo bianco trasparente al hover */
}

/* SEZIONE 11.9: Scrollbar in dark mode */
.dark .fermate-list::-webkit-scrollbar-track {
  background: rgba(15, 23, 42, 0.3);      /* Sfondo scuro trasparente per la track */
}

.dark .fermate-list::-webkit-scrollbar-thumb {
  background: rgba(23, 183, 177, 0.6);    /* Sfondo turchese trasparente per il thumb */
}

/* SEZIONE 11.10: Barra di ricerca in dark mode */
.dark .search-input {
  background-color: var(--grigio-scuro);    /* Sfondo grigio scuro */
  border-color: var(--bordo);               /* Colore bordo */
  color: var(--testo-principale);           /* Colore testo principale */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3); /* Ombra scura per visibilità */
}

.dark .search-input:focus {
  /* border-color: var(--turchese);            /* Bordo turchese al focus RIMOSSO */
  border-color: rgba(255, 255, 255, 0.4);   /* Bordo bianco trasparente al focus */
  /* box-shadow: 0 0 0 4px rgba(23, 183, 177, 0.2);  /* Ombra turchese al focus RIMOSSA */
  box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.1);  /* Ombra bianca al focus */
}

.dark .clear-btn:hover {
  background-color: var(--bordo);           /* Sfondo bordo al hover */
}

/* Icona ricerca in modalità scura */
.dark .search-icon {
  color: #ffffff;                           /* Colore bianco in modalità scura */
  opacity: 0.8;                            /* Maggiore opacità in dark mode */
}

/* SEZIONE 11.11: Risultato prezzo */
.price-result {
  text-align: center;              /* Testo centrato */
  margin: 1.5rem 0;               /* Margine verticale */
}

/* SEZIONE 11.12: Sezione prezzo divisa con effetto vetro glassmorphism */
.price-card {
  border-radius: 1rem;
  overflow: hidden;
  margin: 1rem 0;
  background: rgba(255, 255, 255, 0.15);
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: var(--glass-shadow); /* Ombra semplificata per performance */
  transition: all 0.3s ease;
  position: relative;
}

/* Effetto rifrazione della luce - overlay gradiente */
.price-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.1) 0%,
    rgba(255, 255, 255, 0.05) 25%,
    transparent 50%,
    transparent 100%
  );
  pointer-events: none;
  z-index: 1;
}

/* Stato inattivo - quando i campi non sono selezionati */
.price-card.inactive {
  opacity: 0.6;
}

.price-card.inactive .price-section {
  opacity: 0.6;
}

.price-card.inactive .price-label {
  color: #64748b;
}

.price-card.inactive .price-code {
  color: #64748b;
}

.price-card.inactive .price-value {
  color: #64748b;
  text-shadow: none;
}

/* Sezione prezzo semplificata */
.price-section {
  padding: 1rem 1.5rem;
  text-align: center;
  transition: all 0.3s ease;
  position: relative;
}

/* Effetto rifrazione della luce per price-section */
.price-section::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.15) 0%,
    rgba(255, 255, 255, 0.08) 30%,
    transparent 60%,
    transparent 100%
  );
  border-radius: 16px 16px 8px 8px;
  pointer-events: none;
  z-index: 1;
}

/* Etichetta del prezzo */
.price-label {
  color: var(--testo-principale);  /* Colore principale per coerenza */
  font-size: 1rem;                /* Dimensione font standard */
  margin-bottom: 0.8rem;          /* Margine inferiore */
  font-weight: 500;               /* Peso font medium */
  letter-spacing: 1px;            /* Spaziatura tra lettere */
  text-transform: uppercase;      /* Testo maiuscolo */
  opacity: 0.9;                   /* Opacità per eleganza */
}

/* Valore del prezzo */
.price-value {
  font-family: 'Inter', sans-serif;  /* Font coerente con il resto dell'applicazione */
  font-size: 3rem;                /* Dimensione font ridotta per compattezza */
  font-weight: 700;               /* Peso font bold (ridotto da 900 per coerenza) */
  color: var(--testo-principale);  /* Colore principale per coerenza */
  margin-bottom: 0.5rem;            /* Margine inferiore ridotto */
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);  /* Ombra leggera per coerenza */
  line-height: 1;                    /* Altezza riga compatta */
  letter-spacing: -0.02em;          /* Spaziatura lettere negativa per compattezza */
}

/* Codice prezzo - solo testo con dimensione appropriata */
.price-code {
  color: var(--testo-principale);       /* Colore principale per coerenza */
  font-size: 1.8rem;                   /* Dimensione ridotta per compattezza */
  font-weight: 700;                    /* Peso font bold */
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);  /* Ombra leggera per coerenza */
  margin-bottom: 0;                    /* Rimuovo margine inferiore */
  font-family: 'Inter', sans-serif;    /* Font coerente con il resto dell'applicazione */
  line-height: 1;                      /* Altezza riga compatta */
  letter-spacing: 0.1em;               /* Spaziatura lettere per leggibilità del codice */
}

/* Divisore tra codice e prezzo */
.price-divider {
  height: 2px;
  background: rgba(15, 23, 42, 0.4);  /* Stesso colore del divisore nelle altre pagine */
  margin: 1rem 1.5rem;
  border-radius: 2px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

/* ========================================
   SEZIONE 12: CRONOLOGIA E ALTRI ELEMENTI
   ======================================== */
/* SEZIONE 12.1: Cronologia */
.history-section {
  margin-top: 2rem;                    /* Margine superiore */
}

/* Titolo cronologia */
.history-title {
  font-size: 1.2rem;                   /* Dimensione font grande */
  font-weight: 600;                    /* Peso font semi-bold */
  color: var(--testo-principale);      /* Colore testo principale */
  margin-bottom: 1rem;                 /* Margine inferiore */
}

/* Elemento cronologia */
.history-item {
  background-color: var(--grigio-chiaro);  /* Sfondo grigio chiaro */
  border: 1px solid var(--bordo);      /* Bordo */
  border-radius: 8px;                  /* Bordi arrotondati */
  padding: 1rem;                       /* Padding interno */
  margin-bottom: 0.5rem;               /* Margine inferiore */
  cursor: pointer;                     /* Cursore pointer */
  transition: all 0.3s ease;          /* Transizione fluida */
}

/* Effetto hover elemento cronologia */
.history-item:hover {
  background-color: var(--grigio-medio);  /* Sfondo grigio medio al hover */
  /* border-color: var(--turchese);       /* Bordo turchese al hover RIMOSSO */
  border-color: rgba(255, 255, 255, 0.3); /* Bordo bianco trasparente al hover */
}

/* SEZIONE 12.2: Titoli delle pagine */
.page-title {
  text-align: center;              /* Testo centrato */
  font-size: 2rem;                 /* Dimensione font grande */
  font-weight: 700;                /* Peso font bold */
  color: var(--testo-principale);  /* Colore testo principale */
  margin: 1rem auto 1rem;         /* Margine verticale e centratura */
  padding: 0;                      /* Nessun padding */
  letter-spacing: 0.5px;           /* Spaziatura tra lettere */
  width: 100%;                     /* Larghezza completa */
  display: block;                  /* Display a blocchi */
  max-width: 100%;                 /* Larghezza massima */
}

/* SEZIONE 12.3: Titolo specifico per pagine tratte/tariffe */
.fermate-page .page-title {
  text-align: center !important;        /* Centratura forzata */
  margin: 1rem auto 1rem auto !important;  /* Margine centrato forzato */
  width: 100% !important;              /* Larghezza completa forzata */
  display: block !important;           /* Display a blocchi forzato */
  position: relative;                  /* Posizione relativa */
  left: 0;                            /* Posizione sinistra zero */
  transform: none;                     /* Nessuna trasformazione */
}

/* SEZIONE 12.4: Selettore linea */
.line-selector-container {
  max-width: 600px;                /* Larghezza massima */
  margin: 0 auto 1.5rem;          /* Margine centrato */
  padding-top: 1rem;              /* Padding superiore */
  border-top: 2px solid rgba(15, 23, 42, 0.4);  /* Bordo superiore più chiaro */
}

/* Bordo superiore selettore linea in dark mode */
.dark .line-selector-container {
  border-top-color: rgba(255, 255, 255, 0.4);  /* Bordo superiore bianco trasparente */
}

/* Barra di ricerca dentro il selettore linea */
.line-selector-container .search-container {
  margin-top: 1rem;               /* Margine superiore */
  margin-bottom: 0;               /* Nessun margine inferiore */
}

/* SEZIONE 12.5: FORZA il design glassmorphism per tutti i selettori */
select.form-select,
#linea-fermate,
#linea-prezzi,
.line-selector-container select,
.line-search-container select {
  background: rgba(255, 255, 255, 0.25) !important;  /* Sfondo bianco trasparente forzato */
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
  border: 1px solid rgba(255, 255, 255, 0.18) !important;  /* Bordo bianco trasparente forzato */
  border-radius: 12px !important;                    /* Bordi arrotondati forzati */
  color: rgba(15, 23, 42, 0.95) !important;         /* Colore testo scuro forzato */
  padding: 0.6rem 0.8rem !important;                 /* Padding interno forzato */
  font-size: 1rem !important;                        /* Dimensione font forzata */
  transition: all 0.3s ease !important;              /* Transizione forzata */
  box-shadow: none !important; /* Ombra rimossa per performance */
}

/* SEZIONE 12.5.1: Ombra ultra leggera per selettori homepage */
#linea,
#partenza,
#arrivo {
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.02) !important;  /* Ombra ultra leggera per homepage */
}

/* Stato focus forzato per selettori */
select.form-select:focus,
#linea-fermate:focus,
#linea-prezzi:focus {
  outline: none !important;                            /* Nessun outline forzato */
  border-color: var(--turchese) !important;            /* Bordo turchese forzato */
  box-shadow: 0 0 0 3px rgba(23, 183, 177, 0.1) !important;  /* Ombra turchese forzata */
  background: rgba(255, 255, 255, 0.35) !important;   /* Sfondo più opaco forzato */
}

/* SEZIONE 12.6: Modalità scura per selettori */
.dark select.form-select,
.dark #linea-fermate,
.dark #linea-prezzi,
.dark .line-selector-container select,
.dark .line-search-container select {
  background: rgba(30, 41, 59, 0.3) !important;      /* Sfondo scuro trasparente forzato */
  border: 1px solid rgba(148, 163, 184, 0.1) !important;  /* Bordo grigio chiaro forzato */
  color: rgba(248, 250, 252, 0.95) !important;       /* Testo chiaro forzato */
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1) !important;  /* Ombra scura ultra leggera */
}

/* Focus in modalità scura */
.dark select.form-select:focus,
.dark #linea-fermate:focus,
.dark #linea-prezzi:focus {
  border-color: var(--turchese) !important;            /* Bordo turchese forzato */
  box-shadow: 0 0 0 3px rgba(23, 183, 177, 0.2) !important;  /* Ombra turchese forzata */
  background: rgba(30, 41, 59, 0.4) !important;        /* Sfondo scuro più opaco forzato */
}

/* SEZIONE 12.7: Container di ricerca linea */
.line-search-container {
  display: flex;                   /* Layout flexbox */
  flex-direction: column;          /* Direzione verticale */
  gap: 1.5rem;                    /* Spazio tra gli elementi */
  margin-bottom: 2rem;            /* Margine inferiore */
}

/* SEZIONE 12.8: Barra di ricerca */
.search-container {
  margin-bottom: 2rem;            /* Margine inferiore */
  display: flex;                  /* Layout flexbox */
  justify-content: center;        /* Centra orizzontalmente */
}

/* SEZIONE 12.8.1: Box contenitore ricerca */
.search-box {
  position: relative;                             /* Posizione relativa per elementi assoluti */
  width: 100%;                                   /* Larghezza completa */
  max-width: 600px;                              /* Larghezza massima */
  display: flex;                                 /* Layout flexbox */
  align-items: center;                           /* Allineamento verticale centrale */
}

/* SEZIONE 12.8.2: Icona ricerca */
.search-icon {
  position: absolute;                            /* Posizione assoluta */
  left: 1.25rem;                               /* Posizione sinistra */
  font-size: 1.5rem;                           /* Dimensione font grande */
  color: #1e293b;                              /* Colore scuro per migliore visibilità */
  pointer-events: none;                         /* Non intercetta eventi mouse */
  opacity: 0.7;                                /* Leggera trasparenza */
  z-index: 2;                                  /* Livello sopra l'input */
  display: flex;                                /* Layout flexbox */
  align-items: center;                          /* Allineamento verticale */
  justify-content: center;                      /* Allineamento orizzontale */
  width: 1.5rem;                               /* Larghezza fissa */
  height: 1.5rem;                              /* Altezza fissa */
}

/* SEZIONE 12.8.3: Input di ricerca */
.search-input {
  width: 100%;                                  /* Larghezza completa */
  padding: 1rem 3.5rem 1rem 3.5rem;            /* Padding con spazio per icone */
  border: 1px solid var(--glass-border);        /* Bordo glassmorphism */
  border-radius: 50px;                          /* Bordi completamente arrotondati */
  font-size: 1rem;                              /* Dimensione font standard */
  background: var(--glass-bg);                  /* Sfondo glassmorphism */
  backdrop-filter: var(--backdrop-blur);        /* Sfocatura del background */
  -webkit-backdrop-filter: var(--backdrop-blur); /* Supporto WebKit */
  color: var(--testo-principale);               /* Colore testo principale */
  transition: all 0.3s ease;                    /* Transizione fluida */
  outline: none;                                /* Rimuove outline di default */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);    /* Ombra leggera per visibilità */
}

/* SEZIONE 12.8.4: Stato focus input ricerca */
.search-input:focus {
  /* border-color: rgba(23, 183, 177, 0.5);        /* Bordo turchese al focus RIMOSSO */
  border-color: rgba(255, 255, 255, 0.4);        /* Bordo bianco trasparente al focus */
  /* box-shadow: 0 0 0 4px rgba(23, 183, 177, 0.2); /* Ombra turchese al focus RIMOSSA */
  box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.1); /* Ombra bianca al focus */
  background: rgba(255, 255, 255, 0.35);        /* Sfondo più opaco al focus */
}

/* SEZIONE 12.8.5: Placeholder input ricerca */
.search-input::placeholder {
  color: var(--testo-secondario);               /* Colore testo secondario per placeholder */
}

/* SEZIONE 12.8.6: Pulsante cancella ricerca */
.clear-btn {
  position: absolute;                            /* Posizione assoluta */
  right: 1rem;                                 /* Posizione destra */
  background: none;                             /* Nessuno sfondo */
  border: none;                                 /* Nessun bordo */
  color: var(--testo-secondario);               /* Colore testo secondario */
  font-size: 1.5rem;                           /* Dimensione font grande */
  cursor: pointer;                              /* Cursore pointer */
  padding: 0.5rem;                             /* Padding interno */
  border-radius: 50%;                          /* Bordi completamente arrotondati */
  transition: all 0.3s ease;                   /* Transizione fluida */
  display: flex;                                /* Layout flexbox */
  align-items: center;                         /* Allineamento verticale centrale */
  justify-content: center;                     /* Allineamento orizzontale centrale */
  width: 2rem;                                 /* Larghezza fissa */
  height: 2rem;                                /* Altezza fissa */
}

/* SEZIONE 12.8.7: Effetto hover pulsante cancella */
.clear-btn:hover {
  background-color: var(--grigio-chiaro);       /* Sfondo grigio chiaro al hover */
  color: var(--testo-principale);               /* Testo principale al hover */
}

/* SEZIONE 12.9: Griglia delle tratte */
.fermate-grid {
  display: grid;                                    /* Layout a griglia */
  grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));  /* Colonne responsive con larghezza minima */
  gap: 2rem;                                       /* Spazio tra le card */
  margin-top: 2rem;                               /* Margine superiore */
  padding: 0 1rem;                                /* Padding laterale */
}

/* SEZIONE 12.10: Card delle tratte con glassmorphism */
.fermate-card {
  /* SEZIONE 12.10.1: Sfondo glassmorphism */
  background: var(--glass-bg);                     /* Sfondo trasparente */
  backdrop-filter: var(--backdrop-blur);          /* Sfocatura del background */
  -webkit-backdrop-filter: var(--backdrop-blur);  /* Supporto WebKit */
  
  /* SEZIONE 12.10.2: Forma e dimensioni */
  border-radius: 24px;                            /* Bordi molto arrotondati */
  padding: 2rem;                                  /* Padding interno */
  
  /* SEZIONE 12.10.3: Effetti visivi */
  box-shadow: var(--glass-shadow);                /* Ombra glassmorphism */
  border: 1px solid var(--glass-border);          /* Bordo trasparente */
  
  /* SEZIONE 12.10.4: Layout e posizionamento */
  position: relative;                             /* Posizione relativa */
  overflow: hidden;                               /* Nasconde contenuto che esce */
}



/* SEZIONE 12.11: Titolo delle card tratte */
.fermate-card h3 {
  /* SEZIONE 12.11.1: Tipografia */
  color: rgba(15, 23, 42, 0.95);                   /* Colore scuro con 95% opacità */
  font-size: 1.75rem;                              /* Dimensione font grande */
  font-weight: 700;                                /* Peso font bold */
  text-shadow: 0 2px 10px rgba(255, 255, 255, 0.3);  /* Ombra testo bianca */
  
  /* SEZIONE 12.11.2: Layout e spaziatura */
  margin-bottom: 1.5rem;                           /* Margine inferiore */
  text-align: center;                              /* Testo centrato */
  padding-bottom: 1rem;                           /* Padding inferiore */
  
  /* SEZIONE 12.11.3: Bordi e separatori */
  border-bottom: 3px solid rgba(15, 23, 42, 0.4);  /* Bordo inferiore più marcato */
  
  /* SEZIONE 12.11.4: Layout flexbox per icona */
  position: relative;                              /* Posizione relativa */
  display: flex;                                   /* Layout flexbox */
  align-items: center;                            /* Allineamento verticale centrale */
  justify-content: center;                        /* Allineamento orizzontale centrale */
  gap: 0.5rem;                                   /* Spazio tra testo e icona */
}

/* SEZIONE 12.12: Icona emoji del bus nel titolo */
.fermate-card h3::before {
  content: '🚌';                                  /* Emoji del bus */
  font-size: 1.5rem;                              /* Dimensione font grande */
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));  /* Ombra dell'icona */
}

/* SEZIONE 12.13: Lista delle tratte */
.fermate-list {
  /* SEZIONE 12.13.1: Reset e layout */
  list-style: none;                               /* Rimuove stili lista di default */
  min-height: 200px;                              /* Altezza minima */
  
  /* SEZIONE 12.13.2: Scroll e dimensioni */
  max-height: 600px;                              /* Altezza massima per scroll */
  overflow-y: auto !important;                    /* Scroll verticale forzato */
  padding-right: 0.5rem;                          /* Padding destro per scrollbar */
}

/* SEZIONE 12.14: Scrollbar personalizzata - Larghezza */
.fermate-list::-webkit-scrollbar {
  width: 8px;                                     /* Larghezza scrollbar sottile */
}

/* SEZIONE 12.15: Scrollbar personalizzata - Track (binario) */
.fermate-list::-webkit-scrollbar-track {
  background: var(--grigio-chiaro);               /* Sfondo grigio chiaro per il binario */
  border-radius: 10px;                           /* Bordi arrotondati */
}

/* SEZIONE 12.16: Scrollbar personalizzata - Thumb (cursore) */
.fermate-list::-webkit-scrollbar-thumb {
  background: var(--turchese);                    /* Sfondo turchese per il cursore */
  border-radius: 10px;                           /* Bordi arrotondati */
}

/* SEZIONE 12.17: Scrollbar personalizzata - Hover del thumb */
.fermate-list::-webkit-scrollbar-thumb:hover {
  background: var(--turchese-scuro);              /* Sfondo turchese scuro al hover */
}

/* SEZIONE 12.18: Elemento singolo della tratta */
.fermate-item {
  /* SEZIONE 12.18.1: Spaziatura e dimensioni */
  padding: 1.2rem 1.5rem 1.2rem 2rem;              /* Padding interno con più spazio a sinistra */
  margin-bottom: 0.75rem;                          /* Margine inferiore */
  
  /* SEZIONE 12.18.2: Sfondo glassmorphism */
  background: rgba(255, 255, 255, 0.15);           /* Sfondo bianco trasparente */
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
  
  /* SEZIONE 12.18.3: Forma e bordi */
  border-radius: 16px;                             /* Bordi arrotondati */
  border: 1px solid rgba(255, 255, 255, 0.2);     /* Bordo bianco trasparente */
  
  /* SEZIONE 12.18.4: Transizioni e animazioni */
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);  /* Transizione fluida con easing */
  
  /* SEZIONE 12.18.5: Tipografia */
  font-size: 1.05rem;                              /* Dimensione font media */
  font-weight: 500;                                /* Peso font medium */
  color: rgba(15, 23, 42, 0.95);                  /* Colore scuro con 95% opacità */
  
  /* SEZIONE 12.18.6: Layout flexbox */
  display: flex;                                   /* Layout flexbox */
  align-items: center;                            /* Allineamento verticale centrale */
  gap: 1rem;                                      /* Spazio tra gli elementi */
  
  /* SEZIONE 12.18.7: Interattività */
  cursor: pointer;                                 /* Cursore pointer */
  position: relative;                             /* Posizione relativa */
}

/* SEZIONE 12.19: Icona emoji della fermata */
.fermate-icon {
  font-size: 1.2rem;                              /* Dimensione font grande */
  transition: transform 0.3s ease;                /* Transizione della trasformazione */
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));  /* Ombra dell'icona */
  margin-right: 0.5rem;                           /* Spazio tra icona e numero */
  margin-left: 0.5rem;                            /* Spazio a sinistra per spostare l'icona */
  display: inline-block;                          /* Layout inline per controllo margini */
}

/* SEZIONE 12.20: Animazione hover dell'icona */
.tratte-item:hover .fermate-icon {
  transform: scale(1.3) rotate(10deg);            /* Ingrandisce e ruota l'icona al hover */
  color: inherit;                                  /* Mantiene il colore originale dell'icona */
  text-shadow: none;                              /* Nessun contorno per l'icona */
}

/* SEZIONE 12.21: Effetto hover dell'elemento tratta */
.fermate-item:hover {
  /* SEZIONE 12.21.1: Sfondo hover */
  /* background: rgba(23, 183, 177, 0.4);             /* Sfondo turchese trasparente RIMOSSO */
  background: rgba(248, 250, 252, 0.4);             /* Sfondo grigio chiaro elegante */
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
  
  /* SEZIONE 12.21.2: Testo e colori */
  color: #ffffff;                                  /* Testo bianco elegante */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8),      /* Contorno nero per leggibilità */
               0 0 4px rgba(0, 0, 0, 0.6);        /* Contorno nero aggiuntivo */
  
  /* SEZIONE 12.21.3: Animazione e movimento */
  /* transform: translateX(12px);                     /* Sposta a destra RIMOSSO */
  
  /* SEZIONE 12.21.4: Ombreggiatura */
  /* box-shadow: 0 8px 25px rgba(23, 183, 177, 0.5); /* Ombra turchese RIMOSSA */
  /* box-shadow: 0 8px 25px rgba(255, 255, 255, 0.3); /* Ombra bianca RIMOSSA */
  
  /* SEZIONE 12.21.5: Bordi */
  /* border-color: rgba(78, 205, 196, 0.6);          /* Bordo turchese più chiaro RIMOSSO */
  border-color: rgba(255, 255, 255, 0.4);          /* Bordo bianco trasparente */
}

/* SEZIONE 12.22: Numero della fermata */
.fermate-number {
  /* SEZIONE 12.22.1: Sfondo glassmorphism */
  background: rgba(23, 183, 177, 0.6);             /* Sfondo turchese trasparente */
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
  
  /* SEZIONE 12.22.2: Tipografia */
  color: #ffffff;                                  /* Testo bianco */
  font-weight: 700;                                /* Peso font bold */
  font-size: 0.95rem;                              /* Dimensione font media */
  
  /* SEZIONE 12.22.3: Forma circolare */
  border-radius: 50%;                              /* Bordi completamente arrotondati */
  width: 36px;                                     /* Larghezza */
  height: 36px;                                    /* Altezza */
  
  /* SEZIONE 12.22.4: Layout flexbox */
  display: inline-flex;                            /* Layout flexbox inline */
  align-items: center;                            /* Allineamento verticale centrale */
  justify-content: center;                        /* Allineamento orizzontale centrale */
  flex-shrink: 0;                                  /* Non si rimpicciolisce */
  
  /* SEZIONE 12.22.5: Effetti visivi */
  box-shadow: 0 4px 15px rgba(23, 183, 177, 0.4); /* Ombra turchese */
  border: 1px solid rgba(255, 255, 255, 0.3);     /* Bordo bianco trasparente */
  
  /* SEZIONE 12.22.6: Transizioni */
  transition: all 0.3s ease;                      /* Transizione fluida */
}

/* SEZIONE 12.23: Effetto hover del numero fermata */
.fermate-item:hover .fermate-number {
  background: rgba(255, 255, 255, 0.9);           /* Sfondo bianco più opaco */
  color: var(--turchese);                         /* Testo turchese */
  text-shadow: none;                              /* Nessun contorno per il numero */
  /* transform: rotate(360deg);                      /* Rotazione completa RIMOSSA */
  /* box-shadow: 0 6px 20px rgba(255, 255, 255, 0.5); /* Ombra bianca RIMOSSA */
}

/* SEZIONE 12.23.1: Effetto hover del nome fermata */
.fermate-item:hover .fermate-stop {
  color: #ffffff;                                 /* Testo bianco elegante */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8),      /* Contorno nero per leggibilità */
               0 0 4px rgba(0, 0, 0, 0.6);        /* Contorno nero aggiuntivo */
}

/* SEZIONE 12.24: Nome della fermata */
.fermate-stop {
  flex: 1;                                        /* Occupa tutto lo spazio rimanente */
  font-size: 1.05rem;                            /* Dimensione font media */
  font-weight: 500;                              /* Peso font medium */
  letter-spacing: 0.3px;                        /* Spaziatura tra lettere */
}

/* SEZIONE 12.25: Elementi della lista tratte */
.fermate-list li {
  padding: 0.5rem 0;                             /* Padding verticale */
  border-bottom: 1px solid var(--bordo);          /* Bordo inferiore */
  color: var(--testo-principale);                /* Colore testo principale */
}

/* SEZIONE 12.26: Ultimo elemento lista - rimuove bordo */
.fermate-list li:last-child {
  border-bottom: none;                           /* Nessun bordo inferiore */
}

/* SEZIONE 12.27: Stato vuoto per tratte */
.fermate-list:empty::before {
  content: 'Nessuna fermata disponibile';         /* Testo di stato vuoto */
  display: block;                                /* Display a blocchi */
  text-align: center;                            /* Testo centrato */
  padding: 2rem;                                /* Padding interno */
  color: var(--testo-secondario);                /* Colore testo secondario */
  font-style: italic;                           /* Stile corsivo */
}

/* SEZIONE 12.28: Span del titolo card tratte */
.fermate-card h3 span {
  font-weight: 400;                               /* Peso font normale */
  font-size: 0.9rem;                              /* Dimensione font piccola */
  color: var(--testo-secondario);                 /* Colore testo secondario */
  margin-left: 0.5rem;                           /* Margine sinistro */
}

/* SEZIONE 12.29: Indicatore caricamento per tratte */
.fermate-loading {
  /* SEZIONE 12.29.1: Layout flexbox */
  display: flex;                                  /* Layout flexbox */
  justify-content: center;                        /* Centra orizzontalmente */
  align-items: center;                           /* Centra verticalmente */
  
  /* SEZIONE 12.29.2: Spaziatura e tipografia */
  padding: 3rem;                                 /* Padding interno */
  color: var(--turchese);                        /* Colore turchese */
  font-size: 1.1rem;                             /* Dimensione font grande */
}

/* SEZIONE 12.30: Icona caricamento animata */
.fermate-loading::before {
  content: '⏳';                                 /* Emoji clessidra */
  font-size: 2rem;                               /* Dimensione font molto grande */
  margin-right: 1rem;                           /* Margine destro */
  animation: spin 2s linear infinite;            /* Animazione rotazione continua */
}

/* SEZIONE 12.31: Animazione rotazione */
@keyframes spin {
  from {
    transform: rotate(0deg);                     /* Rotazione iniziale */
  }
  to {
    transform: rotate(360deg);                   /* Rotazione completa */
  }
}

/* SEZIONE 12.32: Tabelle tariffe */
.prezzi-table {
  width: 100%;                                    /* Larghezza completa */
  border-collapse: separate;                      /* Bordi delle celle separati per glassmorphism */
  border-spacing: 0;                              /* Nessuno spazio tra celle */
  margin-top: 1rem;                              /* Margine superiore */
  border-radius: 12px;                           /* Bordi arrotondati */
  overflow: hidden;                              /* Nasconde bordi interni */
  background: var(--glass-bg);                   /* Sfondo glassmorphism */
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
  border: 1px solid var(--glass-border);         /* Bordo glassmorphism */
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);    /* Ombra per profondità */
}

/* SEZIONE 12.33: Celle delle tabelle tariffe */
.prezzi-table th,
.prezzi-table td {
  padding: 1rem;                                 /* Padding interno maggiore */
  text-align: left;                              /* Testo allineato a sinistra */
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);  /* Bordo inferiore sottile */
  background: rgba(255, 255, 255, 0.05);         /* Sfondo trasparente per glassmorphism */
  transition: all 0.3s ease;                     /* Transizione fluida */
}

/* SEZIONE 12.34: Intestazioni tabelle tariffe */
.prezzi-table th {
  background: rgba(23, 183, 177, 0.6);           /* Sfondo turchese trasparente */
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
  font-weight: 700;                              /* Peso font bold */
  color: #ffffff;                                /* Testo bianco */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);   /* Ombra testo per leggibilità */
  border-bottom: 2px solid rgba(255, 255, 255, 0.2);  /* Bordo inferiore più marcato */
}

/* SEZIONE 12.35: Effetto hover righe tabelle */
.prezzi-table tr:hover {
  background: rgba(248, 250, 252, 0.4);          /* Sfondo grigio chiaro elegante al hover */
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
  transform: translateY(-1px);                   /* Leggero sollevamento */
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);   /* Ombra al hover */
}

/* SEZIONE 12.35.1: Effetto hover celle */
.prezzi-table tr:hover td {
  color: #1e293b;                                /* Testo scuro al hover per leggibilità */
  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.3);  /* Ombra bianca per contrasto */
}

/* SEZIONE 12.36: Tabelle tariffe in dark mode */
.dark .prezzi-table {
  background: rgba(30, 41, 59, 0.6);             /* Sfondo scuro trasparente */
  border-color: rgba(148, 163, 184, 0.2);        /* Bordo grigio chiaro trasparente */
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);   /* Ombra scura */
}

.dark .prezzi-table th,
.dark .prezzi-table td {
  background: rgba(30, 41, 59, 0.3);             /* Sfondo scuro trasparente */
  color: rgba(248, 250, 252, 0.95);              /* Testo chiaro */
  border-bottom-color: rgba(255, 255, 255, 0.1); /* Bordo inferiore bianco trasparente */
}

.dark .prezzi-table th {
  background: rgba(23, 183, 177, 0.7);           /* Sfondo turchese più opaco */
  color: #ffffff;                                /* Testo bianco */
}

.dark .prezzi-table tr:hover {
  background: rgba(255, 255, 255, 0.1);          /* Sfondo bianco trasparente al hover */
}

.dark .prezzi-table tr:hover td {
  color: #ffffff;                                /* Testo bianco al hover */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);   /* Ombra scura per contrasto */
}

/* ========================================
   SEZIONE 12.5: PULSANTE TORNA SU
   ======================================== */
.scroll-to-top {
  position: fixed;                        /* Posizione fissa */
  bottom: 20px;                          /* Distanza dal basso */
  right: 20px;                           /* Distanza da destra */
  width: 50px;                           /* Larghezza */
  height: 50px;                          /* Altezza */
  background: var(--glass-bg);           /* Sfondo glassmorphism */
  backdrop-filter: var(--backdrop-blur); /* Sfocatura del background */
  -webkit-backdrop-filter: var(--backdrop-blur); /* Supporto WebKit */
  border: 1px solid var(--glass-border); /* Bordo glassmorphism */
  border-radius: 50%;                    /* Forma circolare */
  color: var(--testo-principale);        /* Colore testo */
  display: flex;                         /* Layout flexbox */
  align-items: center;                   /* Allineamento verticale */
  justify-content: center;               /* Allineamento orizzontale */
  cursor: pointer;                       /* Cursore pointer */
  transition: all 0.3s ease;            /* Transizione fluida */
  box-shadow: 0 4px 15px rgba(255, 255, 255, 0.3); /* Ombra */
  z-index: 1000;                         /* Sopra tutti gli elementi */
  font-size: 1.2rem;                     /* Dimensione icona */
  opacity: 0;                            /* Inizialmente invisibile */
  visibility: hidden;                    /* Non visibile */
}

.scroll-to-top.visible {
  opacity: 1;                            /* Visibile */
  visibility: visible;                   /* Visibile */
}

.scroll-to-top:hover {
  transform: scale(1.1);                 /* Ingrandisce al hover */
  box-shadow: 0 8px 25px rgba(255, 255, 255, 0.4); /* Ombra più forte */
  background: rgba(255, 255, 255, 0.4); /* Sfondo più opaco */
}

/* Modalità scura per pulsante torna su */
.dark .scroll-to-top {
  background: var(--glass-bg-dark);      /* Sfondo glassmorphism scuro */
  color: rgba(248, 250, 252, 0.95);     /* Testo chiaro */
  border-color: var(--glass-border-dark); /* Bordo glassmorphism scuro */
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); /* Ombra scura */
}

.dark .scroll-to-top:hover {
  background: rgba(255, 255, 255, 0.1); /* Sfondo bianco trasparente al hover */
  border-color: rgba(255, 255, 255, 0.3); /* Bordo bianco trasparente */
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4); /* Ombra scura più forte */
}

/* ========================================
   SEZIONE 13: FOOTER - GLASSMORPHISM
   ======================================== */
/* SEZIONE 13.1: Footer principale */
.footer {
  /* SEZIONE 13.1.1: Layout e tipografia */
  text-align: center;                             /* Testo centrato */
  padding: 0.5rem 0;                             /* Padding verticale */
  color: rgba(15, 23, 42, 0.85);                /* Colore scuro con 85% opacità */
  font-size: 0.85rem;                            /* Dimensione font piccola */
  font-weight: 500;                              /* Peso font medium */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);    /* Ombra testo leggera */
  
  /* SEZIONE 13.1.2: Sfondo glassmorphism */
  background: rgba(248, 250, 252, 0.1);          /* Sfondo grigio chiaro trasparente più a tema */
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
  
  /* SEZIONE 13.1.3: Bordi e separatori */
  border-top: 1px solid rgba(15, 23, 42, 0.15);  /* Bordo superiore in linea con il tema */
  
  /* SEZIONE 13.1.4: Posizionamento */
  margin-top: 0;                                 /* Nessun margine superiore */
  position: relative;                            /* Posizione relativa */
  z-index: 10;                                   /* Sopra altri elementi */
}

/* Effetto rifrazione della luce per footer */
.footer::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 70%;
  background: transparent; /* Gradiente rimosso per performance */
  pointer-events: none;
  z-index: 1;
}

/* SEZIONE 13.2: Footer sticky solo per pagine tratte */
.fermate-page .footer {
  margin-top: auto;                              /* Spinge il footer in basso */
}

/* SEZIONE 13.3: Footer in modalità scura */
.dark .footer {
  color: rgba(248, 250, 252, 0.95);             /* Testo chiaro con 95% opacità */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);    /* Ombra testo più forte */
  border-top-color: rgba(255, 255, 255, 0.1);    /* Bordo superiore chiaro */
  background: transparent; /* Sfondo trasparente rimosso per performance */
}

/* ========================================
   SEZIONE 14: ANIMAZIONI AGGIUNTIVE
   ======================================== */
/* SEZIONE 14.1: Animazione slideInUp - Entrata dal basso */
@keyframes slideInUp {
  from {
    opacity: 0;                                   /* Inizia trasparente */
    transform: translateY(30px);                  /* Inizia 30px più in basso */
  }
  to {
    opacity: 1;                                   /* Diventa opaco */
    transform: translateY(0);                     /* Ritorna alla posizione normale */
  }
}

/* SEZIONE 14.2: Animazione fadeInScale - Entrata con scala */
@keyframes fadeInScale {
  from {
    opacity: 0;                                   /* Inizia trasparente */
    transform: scale(0.95);                       /* Inizia leggermente più piccolo */
  }
  to {
    opacity: 1;                                   /* Diventa opaco */
    transform: scale(1);                          /* Ritorna alla scala normale */
  }
}

/* SEZIONE 14.3: Animazione prima card tratta */
.fermate-card:nth-child(1) {
  animation: slideInUp 0.6s ease-out;            /* Animazione slideInUp senza delay */
}

/* SEZIONE 14.4: Animazione seconda card tratta */
.fermate-card:nth-child(2) {
  animation: slideInUp 0.6s ease-out 0.1s backwards;  /* Animazione con delay 0.1s */
}

/* SEZIONE 14.5: Animazione base elementi tratta */
.fermate-item {
  animation: fadeInScale 0.4s ease-out backwards;  /* Animazione fadeInScale per tutti */
}

/* SEZIONE 14.6: Delay progressivi per elementi tratta (effetto cascata) */
.fermate-item:nth-child(1) { animation-delay: 0.05s; }  /* Primo elemento */
.fermate-item:nth-child(2) { animation-delay: 0.1s; }   /* Secondo elemento */
.fermate-item:nth-child(3) { animation-delay: 0.15s; }  /* Terzo elemento */
.fermate-item:nth-child(4) { animation-delay: 0.2s; }   /* Quarto elemento */
.fermate-item:nth-child(5) { animation-delay: 0.25s; }  /* Quinto elemento */
.fermate-item:nth-child(6) { animation-delay: 0.3s; }   /* Sesto elemento */
.fermate-item:nth-child(7) { animation-delay: 0.35s; }  /* Settimo elemento */
.tratte-item:nth-child(8) { animation-delay: 0.4s; }   /* Ottavo elemento */

/* ========================================
   SEZIONE 15: RESPONSIVE DESIGN - MEDIA QUERIES
   ======================================== */

/* SEZIONE 15.1: Tablet (max-width: 1024px) */
@media (max-width: 1024px) {
  /* Container principale */
  .container {
    padding: 0 1rem;                              /* Padding laterale ridotto */
  }

  /* Card principale */
  .main-card {
    max-width: 100%;                              /* Larghezza massima completa */
  }

  /* Valore prezzo ridotto */
  .price-value {
    font-size: 2.5rem;                            /* Dimensione font ridotta */
  }

  /* Card prezzo più stretta per tablet */
  .price-result {
    max-width: 400px;                             /* Larghezza massima ridotta */
    margin-left: auto;                            /* Centra orizzontalmente */
    margin-right: auto;                           /* Centra orizzontalmente */
  }

  /* Sezione prezzo divisa per tablet */
  .price-card {
    max-width: 400px;                             /* Larghezza massima ridotta */
    margin-left: auto;                            /* Centra orizzontalmente */
    margin-right: auto;                           /* Centra orizzontalmente */
  }

  .price-header {
    padding: 1.2rem 1.5rem;                      /* Padding ridotto per tablet */
  }

  .price-body {
    padding: 1.5rem;                             /* Padding ridotto per tablet */
  }

  /* Layout compatto per selettori tablet */
  .route-section {
    display: flex;                                /* Layout flexbox */
    flex-direction: column;                       /* Direzione verticale */
    gap: 0.5rem;                                 /* Spazio ridotto tra elementi */
    padding-right: 4rem;                         /* Padding destro maggiore per il pulsante */
    padding-top: 0.1rem;                         /* Padding superiore ulteriormente ridotto per mobile */
  }

  .route-label {
    display: flex;                                /* Layout flexbox */
    flex-direction: column;                       /* Direzione verticale */
    gap: 0.5rem;                                 /* Spazio tra etichetta e select */
    align-items: flex-start;                      /* Allinea tutto a sinistra */
    flex: 1 1 40%;                               /* Occupa il 40% dello spazio per il pulsante */
    width: 100%;                                 /* Larghezza completa */
  }

  .route-icon {
    min-width: 120px;                            /* Larghezza minima per simmetria */
    font-size: 0.9rem;                           /* Font ridotto */
    justify-content: flex-start !important;      /* Forza allineamento a sinistra */
    text-align: left !important;                 /* Forza testo allineato a sinistra */
    margin: 0 !important;                        /* Forza rimozione margini */
    padding: 0 !important;                       /* Forza rimozione padding */
    display: flex !important;                    /* Forza display flex */
    align-items: center;                         /* Centra verticalmente */
    width: 100%;                                 /* Larghezza completa */
  }

  .route-select {
    flex: 1;                                     /* Occupa spazio rimanente */
    width: 100%;                                 /* Larghezza completa */
    min-width: 0;                                /* Permette al flex di funzionare */
  }

  .swap-button {
    align-self: center;                          /* Centra il pulsante */
    margin: 0.5rem 0;                           /* Margine verticale ridotto */
  }

  .swap-btn {
    width: 40px;                                 /* Dimensione ridotta */
    height: 40px;                                /* Dimensione ridotta */
  }
}

/* SEZIONE 15.2: Tablet Portrait (max-width: 768px) */
@media (max-width: 768px) {
  /* Navigazione navbar */
  .navbar-nav {
    gap: 1rem;                                    /* Spazio tra link ridotto */
  }

  .navbar-title {
    font-size: 1.2rem;                            /* Titolo navbar ridotto */
  }

  .navbar-title .logo-acronym,
  .navbar-title .navbar-title-main {
    font-size: 1.4rem;                            /* Acronimo ridotto aumentato di un altro punto */
  }

  .navbar-title .logo-text,
  .navbar-title .navbar-title-sub {
    font-size: 0.9rem;                            /* Testo ridotto aumentato di un altro punto */
  }

  /* Card principale */
  .main-card {
    margin: 0.5rem;                              /* Margine ridotto */
    padding: 1.25rem;                            /* Padding ridotto */
  }

  /* Titolo card */
  .card-title h1 {
    font-size: 1.5rem;                           /* Titolo ridotto */
  }

  /* Riga route - layout verticale */
  .route-row {
    flex-direction: column;                      /* Layout verticale */
    gap: 0.5rem;                                /* Spazio ridotto */
  }

  .route-icon {
    align-self: flex-start !important;           /* Allinea l'icona a sinistra */
  }

  /* Griglia tratte - una colonna */
  .fermate-grid {
    grid-template-columns: 1fr;                  /* Una sola colonna */
    gap: 1.5rem;                                /* Spazio ridotto */
    padding: 0 0.5rem;                          /* Padding ridotto */
  }

  /* Card tratte */
  .fermate-card {
    padding: 1.75rem;                            /* Padding ridotto */
    border-radius: 16px;                         /* Bordi meno arrotondati */
  }

  .fermate-card h3 {
    font-size: 1.5rem;                           /* Titolo card ridotto */
  }

  /* Elementi tratta */
  .fermate-item {
    padding: 1rem 1.25rem 1rem 1.75rem;         /* Padding ridotto con più spazio a sinistra */
    font-size: 1rem;                             /* Font ridotto */
  }

  .fermate-number {
    width: 34px;                                 /* Dimensione ridotta */
    height: 34px;                                /* Dimensione ridotta */
    font-size: 0.9rem;                           /* Font ridotto */
  }

  .fermate-list {
    max-height: 500px;                           /* Altezza ridotta */
  }

  /* Valore prezzo */
  .price-value {
    font-size: 2rem;                             /* Font ridotto */
  }

  /* Pulsante calcola */
  .calculate-btn {
    padding: 0.875rem 1.5rem;                   /* Padding ridotto */
    font-size: 1rem;                             /* Font ridotto */
  }
}

/* SEZIONE 15.3: Mobile (max-width: 480px) */
@media (max-width: 480px) {
  /* Container principale */
  .container {
    padding: 0 15px;                              /* Padding laterale minimo */
  }

  /* Navbar mobile */
  .navbar {
    padding: 0.6rem 0;                           /* Padding verticale aumentato per dare spazio al logo */
  }

  .navbar-brand {
    gap: 8px;                                    /* Spazio tra logo e titolo ridotto */
  }

  /* Badge BETA ridotto */
  .beta-badge {
    font-size: 0.55rem;                          /* Font molto piccolo */
    padding: 0.2rem 0.5rem;                     /* Padding ridotto */
    margin-left: 0.3rem;                        /* Margine ridotto */
  }

  .navbar-logo-wrapper {
    width: 45px;
    height: 45px;
  }
  
  .navbar-logo {
    width: 45px;                                 /* Logo quadrato ridotto per navbar sottile */
    height: 45px;                                /* Logo quadrato ridotto per navbar sottile */
    border-radius: 10px;                         /* Angoli molto smussati per contorno arrotondato */
    border: 2px solid rgba(0, 123, 138, 0.7);   /* Contorno ciano che avvolge l'immagine */
    box-shadow: 0 2px 8px rgba(0, 123, 138, 0.4); /* Ombra semplificata per performance */
  }

  .navbar-title {
    font-size: 1.1rem;                           /* Titolo ridotto */
  }

  .navbar-title .logo-acronym,
  .navbar-title .navbar-title-main {
    font-size: 1.3rem;                           /* Acronimo ridotto aumentato di un altro punto */
  }

  .navbar-title .logo-text,
  .navbar-title .navbar-title-sub {
    font-size: 0.8rem;                           /* Testo ridotto aumentato di un altro punto */
  }

  /* Card principale mobile */
  .main-card {
    margin: 0.25rem;                            /* Margine minimo */
    padding: 1rem;                              /* Padding ridotto */
  }

  /* Titoli mobile */
  .card-title h1 {
    font-size: 1.25rem;                         /* Titolo ridotto */
  }

  .card-title p {
    font-size: 0.9rem;                          /* Sottotitolo ridotto */
  }

  /* Valore prezzo mobile */
  .price-value {
    font-size: 1.75rem;                         /* Font molto ridotto */
  }

  /* Card prezzo più stretta per mobile */
  .price-result {
    max-width: 320px;                           /* Larghezza massima ancora più ridotta per mobile */
    margin-left: auto;                          /* Centra orizzontalmente */
    margin-right: auto;                         /* Centra orizzontalmente */
  }

  /* Sezione prezzo divisa per mobile */
  .price-card {
    max-width: 320px;                           /* Larghezza massima ancora più ridotta per mobile */
    margin-left: auto;                          /* Centra orizzontalmente */
    margin-right: auto;                         /* Centra orizzontalmente */
  }

  .price-header {
    padding: 1rem 1.2rem;                      /* Padding ultra-ridotto per mobile */
  }

  .price-body {
    padding: 1.2rem;                           /* Padding ultra-ridotto per mobile */
  }

  .code-label {
    font-size: 0.8rem;                         /* Font più piccolo per mobile */
  }

  .price-code {
    font-size: 1.5rem;                         /* Font ridotto per mobile ma proporzionale */
  }

  /* Layout ultra-compatto per selettori mobile */
  .route-section {
    gap: 0.25rem;                               /* Spazio ultra-ridotto tra elementi */
    padding-right: 4rem;                        /* Padding destro maggiore per il pulsante */
    padding-top: 0.05rem;                       /* Padding superiore ultra-ridotto per mobile */
  }

  /* Layout mobile flat - rimuove card per massimizzare spazio */
  .main-card {
    background: transparent !important;         /* Rimuove sfondo card */
    backdrop-filter: none !important;          /* Rimuove effetto vetro */
    -webkit-backdrop-filter: none !important;  /* Rimuove effetto vetro WebKit */
    border: none !important;                   /* Rimuove bordi */
    box-shadow: none !important;               /* Rimuove ombre */
    padding: 0.5rem !important;                /* Padding minimo */
    margin: 0 !important;                      /* Margine zero */
  }

  /* Route section mobile flat */
  .route-section {
    background: transparent !important;        /* Rimuove sfondo card */
    backdrop-filter: none !important;          /* Rimuove effetto vetro */
    -webkit-backdrop-filter: none !important;  /* Rimuove effetto vetro WebKit */
    border: none !important;                   /* Rimuove bordi */
    box-shadow: none !important;               /* Rimuove ombre */
    padding: 0.5rem 0 !important;              /* Padding minimo verticale */
    margin: 0 !important;                      /* Margine zero */
  }

  /* Price card mobile flat */
  .price-card {
    background: transparent !important;        /* Rimuove sfondo card */
    backdrop-filter: none !important;          /* Rimuove effetto vetro */
    -webkit-backdrop-filter: none !important;  /* Rimuove effetto vetro WebKit */
    border: none !important;                   /* Rimuove bordi */
    box-shadow: none !important;               /* Rimuove ombre */
    padding: 0.5rem 0 !important;              /* Padding minimo */
    margin: 0.5rem 0 !important;               /* Margine minimo verticale */
    max-width: 100% !important;                /* Larghezza completa */
  }

  /* Separatori sottili per mobile */
  .route-section::after {
    content: '';
    display: block;
    height: 1px;
    background: rgba(148, 163, 184, 0.2);
    margin: 1rem 0;
  }

  .price-card::before {
    content: '';
    display: block;
    height: 1px;
    background: rgba(148, 163, 184, 0.2);
    margin-bottom: 1rem;
  }

  /* Modalità scura per layout mobile flat */
  .dark .route-section::after {
    background: rgba(148, 163, 184, 0.3);
  }

  .dark .price-card::before {
    background: rgba(148, 163, 184, 0.3);
  }

  /* Rimuove effetti di rifrazione della luce su mobile per performance */
  .main-card::before,
  .route-section::before,
  .price-card::before {
    display: none !important;                   /* Nasconde effetti di rifrazione */
  }

  /* Disabilita animazione background su mobile per performance */
  body {
    animation: none !important;                 /* Disabilita animazione gradiente */
  }

  /* Background statico su mobile */
  body::before {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;  /* Gradiente statico */
    animation: none !important;                 /* Nessuna animazione */
  }

  /* Modalità scura statica su mobile */
  body.dark::before {
    background: linear-gradient(135deg, #1a202c 0%, #2d3748 100%) !important;  /* Gradiente scuro più neutro */
    animation: none !important;                 /* Nessuna animazione */
  }

  /* Layout flat per tariffe su mobile */
  .prezzi-page .main-card {
    background: transparent !important;         /* Rimuove sfondo card tariffe */
    backdrop-filter: none !important;          /* Rimuove effetto vetro */
    -webkit-backdrop-filter: none !important;  /* Rimuove effetto vetro WebKit */
    border: none !important;                   /* Rimuove bordi */
    box-shadow: none !important;               /* Rimuove ombre */
    padding: 0.5rem 0 !important;              /* Padding minimo */
    margin: 0 !important;                      /* Margine zero */
  }

  /* Separatori per tariffe mobile */
  .prezzi-page .main-card::before {
    content: '';
    display: block;
    height: 1px;
    background: rgba(148, 163, 184, 0.2);
    margin-bottom: 1rem;
  }

  /* Prima card non ha separatore superiore */
  .prezzi-page .main-card:first-child::before {
    display: none;
  }

  /* Modalità scura per separatori tariffe */
  .dark .prezzi-page .main-card::before {
    background: rgba(148, 163, 184, 0.3);
  }

  /* Tabella tariffe più compatta su mobile */
  .prezzi-page .prezzi-table {
    font-size: 0.9rem;                         /* Font più piccolo per mobile */
  }

  .prezzi-page .prezzi-table th,
  .prezzi-page .prezzi-table td {
    padding: 0.75rem 0.5rem;                   /* Padding ridotto per mobile */
  }

  /* Selettore linea tariffe mobile flat */
  .prezzi-page .line-selector-container {
    background: transparent !important;        /* Rimuove sfondo selettore */
    backdrop-filter: none !important;          /* Rimuove effetto vetro */
    -webkit-backdrop-filter: none !important;  /* Rimuove effetto vetro WebKit */
    border: none !important;                   /* Rimuove bordi */
    box-shadow: none !important;               /* Rimuove ombre */
    padding: 0.5rem 0 !important;              /* Padding minimo */
    margin: 0 0 1rem 0 !important;            /* Margine minimo */
  }

  /* Barra di ricerca tariffe mobile flat */
  .prezzi-page .search-container {
    background: transparent !important;        /* Rimuove sfondo ricerca */
    backdrop-filter: none !important;          /* Rimuove effetto vetro */
    -webkit-backdrop-filter: none !important;  /* Rimuove effetto vetro WebKit */
    border: none !important;                   /* Rimuove bordi */
    box-shadow: none !important;               /* Rimuove ombre */
    padding: 0.5rem 0 !important;              /* Padding minimo */
    margin: 0 !important;                      /* Margine zero */
  }

  /* Layout flat per tratte su mobile */
  .tratte-page .fermate-card {
    background: transparent !important;        /* Rimuove sfondo card tratte */
    backdrop-filter: none !important;          /* Rimuove effetto vetro */
    -webkit-backdrop-filter: none !important;  /* Rimuove effetto vetro WebKit */
    border: none !important;                   /* Rimuove bordi */
    box-shadow: none !important;               /* Rimuove ombre */
    padding: 0.5rem 0 !important;              /* Padding minimo */
    margin: 0 !important;                      /* Margine zero */
  }

  /* Separatori per tratte mobile */
  .tratte-page .tratte-card::before {
    content: '';
    display: block;
    height: 1px;
    background: rgba(148, 163, 184, 0.2);
    margin-bottom: 1rem;
  }

  /* Prima card non ha separatore superiore */
  .tratte-page .tratte-card:first-child::before {
    display: none;
  }

  /* Modalità scura per separatori tratte */
  .dark .tratte-page .tratte-card::before {
    background: rgba(148, 163, 184, 0.3);
  }

  /* Selettore linea tratte mobile flat */
  .prezzi-page .line-selector-container {
    background: transparent !important;        /* Rimuove sfondo selettore */
    backdrop-filter: none !important;          /* Rimuove effetto vetro */
    -webkit-backdrop-filter: none !important;  /* Rimuove effetto vetro WebKit */
    border: none !important;                   /* Rimuove bordi */
    box-shadow: none !important;               /* Rimuove ombre */
    padding: 0.5rem 0 !important;              /* Padding minimo */
    margin: 0 0 1rem 0 !important;            /* Margine minimo */
  }

  /* Barra di ricerca tratte mobile flat */
  .prezzi-page .search-container {
    background: transparent !important;        /* Rimuove sfondo ricerca */
    backdrop-filter: none !important;          /* Rimuove effetto vetro */
    -webkit-backdrop-filter: none !important;  /* Rimuove effetto vetro WebKit */
    border: none !important;                   /* Rimuove bordi */
    box-shadow: none !important;               /* Rimuove ombre */
    padding: 0.5rem 0 !important;              /* Padding minimo */
    margin: 0 !important;                      /* Margine zero */
  }

  /* Lista fermate più compatta su mobile */
  .tratte-page .fermate-list {
    padding: 0.5rem 0;                         /* Padding ridotto per mobile */
  }

  .tratte-page .fermate-list li {
    padding: 0.75rem 0.5rem;                   /* Padding ridotto per mobile */
    margin-bottom: 0.25rem;                    /* Margine ridotto tra fermate */
  }

  /* Pulsante reset mobile flat */
  .reset-section {
    background: transparent !important;        /* Rimuove sfondo sezione reset */
    backdrop-filter: none !important;          /* Rimuove effetto vetro */
    -webkit-backdrop-filter: none !important;  /* Rimuove effetto vetro WebKit */
    border: none !important;                   /* Rimuove bordi */
    box-shadow: none !important;               /* Rimuove ombre */
    padding: 0.5rem 0 !important;              /* Padding minimo */
    margin: 0 !important;                      /* Margine zero */
    text-align: center;                        /* Centra il pulsante */
  }

  /* Nasconde icone fermate su mobile per massimizzare spazio */
  .tratte-page .fermate-icon {
    display: none !important;                   /* Nasconde icona fermate su mobile */
  }

  .route-label {
    gap: 0.25rem;                               /* Spazio ridotto tra etichetta e select */
    align-items: flex-start;                    /* Allinea tutto a sinistra */
    flex: 1 1 40%;                             /* Occupa il 40% dello spazio per il pulsante */
    width: 100%;                               /* Larghezza completa */
  }

  .route-icon {
    min-width: 120px;                            /* Larghezza minima per simmetria */
    font-size: 0.8rem;                          /* Font più piccolo */
    justify-content: flex-start !important;      /* Forza allineamento a sinistra */
    text-align: left !important;                 /* Forza testo allineato a sinistra */
    margin: 0 !important;                        /* Forza rimozione margini */
    padding: 0 !important;                       /* Forza rimozione padding */
    display: flex !important;                    /* Forza display flex */
    align-items: center;                         /* Centra verticalmente */
    width: 100%;                                 /* Larghezza completa */
  }

  .route-icon span:last-child {
    display: inline;                            /* Mostra il testo "Partenza"/"Arrivo" */
    font-size: 0.75rem;                         /* Font molto piccolo per spazio */
    min-width: 80px;                            /* Larghezza minima per simmetria */
    text-align: left;                           /* Allineamento a sinistra */
  }

  .swap-button {
    margin: 0.25rem 0;                          /* Margine ultra-ridotto */
  }

  .swap-btn {
    width: 35px;                                /* Dimensione ultra-ridotta */
    height: 35px;                               /* Dimensione ultra-ridotta */
    font-size: 0.9rem;                          /* Icona più piccola */
  }

  /* Card principale ultra-compatta per mobile */
  .main-card {
    padding: 0.75rem;                           /* Padding ultra-ridotto */
    margin: 0.5rem 0;                           /* Margine ultra-ridotto */
  }

  /* Pulsante calcola mobile */
  .calculate-btn {
    padding: 0.75rem 1rem;                      /* Padding ridotto */
    font-size: 0.95rem;                         /* Font ridotto */
  }

  /* Form select mobile */
  .form-select {
    padding: 0.625rem 0.875rem;                 /* Padding ridotto */
    font-size: 0.9rem;                          /* Font ridotto */
  }

  /* Icona route mobile */
  .route-icon {
    width: 35px;                                /* Dimensione ridotta */
    height: 35px;                               /* Dimensione ridotta */
    font-size: 1rem;                            /* Font ridotto */
    justify-content: flex-start !important;      /* Forza allineamento a sinistra */
    align-self: flex-start !important;           /* Allinea l'icona a sinistra */
  }

  /* Titolo pagina mobile */
  .page-title {
    font-size: 1.5rem;                          /* Font ridotto */
  }

  /* Griglia tratte mobile */
  .fermate-grid {
    gap: 1rem;                                  /* Spazio ridotto */
    padding: 0;                                 /* Nessun padding */
  }

  /* Card tratte mobile */
  .fermate-card {
    padding: 1.25rem;                           /* Padding ridotto */
    border-radius: 12px;                        /* Bordi meno arrotondati */
  }

  .fermate-card h3 {
    font-size: 1.3rem;                          /* Titolo ridotto */
    padding-bottom: 0.75rem;                    /* Padding inferiore ridotto */
  }

  /* Elementi tratta mobile */
  .fermate-item {
    padding: 0.875rem 1rem 0.875rem 1.5rem;     /* Padding ridotto con più spazio a sinistra */
    font-size: 0.95rem;                         /* Font ridotto */
    margin-bottom: 0.5rem;                      /* Margine ridotto */
  }

  .fermate-number {
    width: 30px;                                /* Dimensione molto ridotta */
    height: 30px;                               /* Dimensione molto ridotta */
    font-size: 0.85rem;                         /* Font ridotto */
  }

  .fermate-stop {
    font-size: 0.95rem;                         /* Font ridotto */
  }

  .fermate-list {
    max-height: 400px;                          /* Altezza ridotta */
  }

  /* Utility classes mobile */
  .h-64 {
    height: 12rem;                              /* Altezza ridotta */
  }

  /* Immagine benvenuto mobile */
  .welcome-image-container {
    height: auto;                               /* Altezza automatica */
    max-width: 90vw;                            /* Larghezza massima viewport */
    margin: 0 auto;                             /* Centrato */
    overflow: visible;                          /* Mostra tutto il contenuto */
    background: none;                           /* Nessun sfondo su mobile */
    border-radius: 0;                           /* Nessun border-radius su mobile */
  }
  
  .welcome-image {
    width: 100%;                                /* Larghezza completa del contenitore */
    height: auto;                               /* Altezza automatica per mantenere proporzioni */
    max-width: 350px;                           /* Larghezza massima ottimizzata */
    object-fit: contain;                        /* Mostra l'immagine completa */
    object-position: center;                    /* Centrata */
    border: 2px solid rgba(255, 255, 255, 0.2); /* Bordo più sottile su mobile */
  }
  
  /* Disabilita effetti hover su mobile */
  .welcome-image-container:hover .welcome-image {
    transform: none;                             /* Nessun zoom su mobile */
    filter: none;                               /* Nessun filtro su mobile */
  }
  
  /* Disabilita effetto rifrazione su mobile */
  .welcome-image::before {
    display: none;                              /* Nasconde l'effetto rifrazione */
  }
}

/* SEZIONE 15.4: Extra Small Mobile (max-width: 360px) */
@media (max-width: 360px) {
  /* Container extra piccolo */
  .container {
    padding: 0 10px;                              /* Padding laterale minimo */
  }

  /* Navigazione navbar extra piccola */
  .navbar-nav {
    gap: 0.5rem;                                 /* Spazio tra link molto ridotto */
  }

  .nav-link {
    padding: 0.375rem 0.75rem;                   /* Padding link ridotto */
    font-size: 0.9rem;                           /* Font link ridotto */
  }
}

/* SEZIONE 15.5: Extra Small Mobile - Navbar ultra compatta (max-width: 400px) */
@media (max-width: 400px) {
  /* Navbar ultra compatta */
  .navbar {
    padding: 0.5rem 0;                          /* Padding verticale aumentato per dare spazio al logo */
  }

  .navbar-brand {
    gap: 6px;                                    /* Spazio tra logo e titolo minimo */
  }

  .navbar-title {
    font-size: 0.9rem;                           /* Titolo molto piccolo */
  }

  .navbar-title .logo-acronym,
  .navbar-title .navbar-title-main {
    font-size: 1.2rem;                           /* Acronimo molto piccolo aumentato di un altro punto */
  }

  .navbar-title .logo-text,
  .navbar-title .navbar-title-sub {
    font-size: 0.7rem;                           /* Testo molto piccolo aumentato di un altro punto */
  }

  /* Badge BETA ultra piccolo */
  .beta-badge {
    font-size: 0.45rem;                          /* Font ultra piccolo */
    padding: 0.1rem 0.3rem;                     /* Padding minimo */
    margin-left: 0.2rem;                        /* Margine minimo */
  }

  /* Navigazione ultra compatta */
  .navbar-nav {
    gap: 0.2rem;                                /* Spazio tra link minimo */
  }

  .nav-link {
    padding: 0.2rem 0.4rem;                     /* Padding link minimo */
    font-size: 0.7rem;                          /* Font link molto piccolo */
    font-weight: 500;                           /* Peso font ridotto */
  }

  /* Toggle modalità scura ultra piccolo */
  .dark-mode-toggle {
    padding: 0.2rem;                            /* Padding minimo */
    font-size: 0.7rem;                          /* Font molto piccolo */
  }

  .dark-mode-toggle span {
    font-size: 0.8rem;                          /* Font icona piccolo */
  }

  /* Immagine benvenuto ultra piccola */
  .welcome-image-container {
    max-width: 95vw;                            /* Larghezza quasi completa viewport */
    overflow: visible;                          /* Mostra tutto il contenuto */
    background: none;                           /* Nessun sfondo */
    border-radius: 0;                           /* Nessun border-radius */
  }
  
  .welcome-image {
    max-width: 280px;                           /* Larghezza massima ridotta */
    border: 2px solid rgba(255, 255, 255, 0.2); /* Bordo più sottile */
  }
}

/* SEZIONE 15.6: Schermi estremamente piccoli - Navbar minima (max-width: 320px) */
@media (max-width: 320px) {
  /* Container estremamente piccolo */
  .container {
    padding: 0 5px;                               /* Padding laterale ultra minimo */
  }

  /* Brand navbar minima */
  .navbar-brand {
    gap: 4px;                                     /* Spazio tra logo e titolo ultra minimo */
  }

  .navbar-logo-wrapper {
    width: 40px;
    height: 40px;
  }
  
  .navbar-logo {
    width: 40px;                                  /* Logo quadrato ridotto per navbar sottile */
    height: 40px;                                 /* Logo quadrato ridotto per navbar sottile */
    border-radius: 8px;                           /* Angoli molto smussati per contorno arrotondato */
    border: 2px solid rgba(0, 123, 138, 0.7);    /* Contorno ciano che avvolge l'immagine */
    box-shadow: 0 2px 8px rgba(0, 123, 138, 0.4); /* Ombra semplificata per performance */
  }

  .navbar-title {
    font-size: 0.8rem;                            /* Titolo ultra piccolo */
  }

  .navbar-title .logo-acronym,
  .navbar-title .navbar-title-main {
    font-size: 1.1rem;                            /* Acronimo ultra piccolo aumentato di un altro punto */
  }

  .navbar-title .logo-text,
  .navbar-title .navbar-title-sub {
    font-size: 0.65rem;                           /* Testo ultra piccolo aumentato di un altro punto */
  }

  /* Badge BETA nascosto */
  .beta-badge {
    display: none;                                /* Nascondi su schermi molto piccoli */
  }

  /* Navigazione ultra minima */
  .navbar-nav {
    gap: 0.1rem;                                 /* Spazio tra link ultra minimo */
  }

  .nav-link {
    padding: 0.15rem 0.3rem;                     /* Padding link ultra minimo */
    font-size: 0.65rem;                          /* Font link ultra piccolo */
  }

  /* Toggle modalità scura ultra piccolo */
  .dark-mode-toggle {
    padding: 0.15rem;                            /* Padding ultra minimo */
    font-size: 0.65rem;                          /* Font ultra piccolo */
  }

  /* Immagine benvenuto ultra piccola */
  .welcome-image-container {
    max-width: 98vw;                            /* Larghezza quasi completa viewport */
    overflow: visible;                          /* Mostra tutto il contenuto */
    background: none;                           /* Nessun sfondo */
    border-radius: 0;                           /* Nessun border-radius */
  }
  
  .welcome-image {
    max-width: 200px;                            /* Larghezza massima ultra ridotta */
    border: 1px solid rgba(255, 255, 255, 0.2);  /* Bordo ultra sottile */
  }
}

/* ========================================
   SEZIONE 16: UTILITY CLASSES
   ======================================== */

/* SEZIONE 16.1: Utility classes di testo */
.text-center {
  text-align: center;                            /* Allineamento testo centrale */
}

/* SEZIONE 16.2: Utility classes di dimensioni */
.w-full {
  width: 100%;                                   /* Larghezza completa */
}

.h-64 {
  height: 16rem;                                 /* Altezza fissa 16rem */
}

/* SEZIONE 16.3: Utility classes di oggetti */
.object-cover {
  object-fit: cover;                             /* Adatta oggetto mantenendo proporzioni */
}

.rounded-xl {
  border-radius: 0.75rem;                        /* Bordi arrotondati grandi */
}

/* SEZIONE 16.4: Utility classes di margini bottom */
.mb-1 {
  margin-bottom: 0.5rem;                         /* Margine inferiore piccolo */
}

.mb-2 {
  margin-bottom: 1rem;                           /* Margine inferiore medio */
}

.mb-3 {
  margin-bottom: 1.5rem;                         /* Margine inferiore grande */
}

.mb-4 {
  margin-bottom: 2rem;                           /* Margine inferiore molto grande */
}

/* SEZIONE 16.5: Utility classes di margini top */
.mt-1 {
  margin-top: 0.5rem;                            /* Margine superiore piccolo */
}

.mt-2 {
  margin-top: 1rem;                              /* Margine superiore medio */
}

.mt-3 {
  margin-top: 1.5rem;                            /* Margine superiore grande */
}

.mt-4 {
  margin-top: 2rem;                              /* Margine superiore molto grande */
}

/* SEZIONE 16.6: Utility classes di display */
.hidden {
  display: none;                                 /* Nasconde elemento */
}

.flex {
  display: flex;                                 /* Display flexbox */
}

/* SEZIONE 16.7: Utility classes di allineamento flexbox */
.items-center {
  align-items: center;                           /* Allineamento verticale centrale */
}

.justify-center {
  justify-content: center;                       /* Allineamento orizzontale centrale */
}

/* SEZIONE 16.8: Utility classes di gap */
.gap-2 {
  gap: 0.5rem;                                   /* Spazio tra elementi piccolo */
}

.gap-4 {
  gap: 1rem;                                     /* Spazio tra elementi grande */
}

/* SEZIONE 16.9: Immagine di benvenuto ottimizzata */
.welcome-image-container {
  text-align: center;                            /* Centra il contenuto */
  margin-bottom: 2rem;                          /* Margine inferiore */
  padding: 0;                                   /* Nessun padding */
  position: relative;                           /* Posizione relativa per effetti */
  overflow: visible;                            /* Mostra tutto il contenuto su mobile */
  border-radius: 1rem;                          /* Bordi arrotondati container */
  background: linear-gradient(135deg, var(--turchese) 0%, var(--turchese-scuro) 100%); /* Sfondo gradiente */
}

/* Desktop: overflow hidden per l'effetto */
@media (min-width: 769px) {
  .welcome-image-container {
    overflow: hidden;                           /* Nasconde overflow solo su desktop */
  }
}

.welcome-image {
  width: 100%;                                  /* Larghezza completa */
  height: auto;                                 /* Altezza automatica per mobile */
  max-width: 500px;                             /* Larghezza massima aumentata */
  object-fit: contain;                          /* Mostra l'immagine completa */
  object-position: center;                      /* Posiziona al centro */
  border-radius: 1rem;                          /* Bordi arrotondati */
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);  /* Ombra più elegante */
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); /* Transizione fluida */
  filter: brightness(1.05) saturate(1.1);       /* Migliora luminosità e saturazione */
  border: 3px solid rgba(255, 255, 255, 0.2);   /* Bordo sottile bianco */
}

/* Desktop: altezza fissa per l'effetto cover */
@media (min-width: 769px) {
  .welcome-image {
    height: 280px;                              /* Altezza fissa solo su desktop */
    object-fit: cover;                          /* Cover solo su desktop */
  }
}

/* Effetto hover per l'immagine */
.welcome-image-container:hover .welcome-image {
  transform: scale(1.02);                       /* Leggero zoom */
  box-shadow: 0 12px 48px rgba(0, 0, 0, 0.2);  /* Ombra più profonda */
  filter: brightness(1.1) saturate(1.2);        /* Aumenta luminosità e saturazione */
}

/* Effetto rifrazione luce per l'immagine */
.welcome-image::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, 
    rgba(255, 255, 255, 0.1) 0%, 
    rgba(255, 255, 255, 0.05) 25%, 
    transparent 50%, 
    rgba(255, 255, 255, 0.05) 75%, 
    rgba(255, 255, 255, 0.1) 100%);
  pointer-events: none;                         /* Non interferisce con i click */
  border-radius: inherit;                       /* Eredita border-radius */
}

/* Modalità scura per l'immagine */
.dark .welcome-image-container {
  background: linear-gradient(135deg, var(--turchese-scuro) 0%, #0f172a 100%); /* Sfondo scuro */
}

.dark .welcome-image {
  border: 3px solid rgba(255, 255, 255, 0.1);   /* Bordo più sottile in modalità scura */
  filter: brightness(0.95) saturate(1.05);       /* Leggero darkening */
}

.dark .welcome-image-container:hover .welcome-image {
  filter: brightness(1.0) saturate(1.15);        /* Hover più sottile in modalità scura */
}

/* ========================================
   SEZIONE 16.7: PULSANTE RESET CACHE
   ======================================== */
/* Pulsante reset cache nella navbar */
.cache-reset-btn {
  background: none;                           /* Nessuno sfondo */
  border: none;                               /* Nessun bordo */
  color: var(--bianco);                       /* Colore bianco per l'icona */
  cursor: pointer;                            /* Cursore pointer */
  padding: 0.5rem;                            /* Padding interno */
  border-radius: 6px;                         /* Bordi arrotondati */
  transition: all 0.3s ease;                  /* Transizione fluida */
  position: relative;                         /* Per posizionamento assoluto del ::before */
  display: flex;                              /* Layout flexbox */
  align-items: center;                        /* Allineamento verticale */
  justify-content: center;                    /* Allineamento orizzontale */
}

/* Effetto rifrazione della luce per cache-reset-btn */
.cache-reset-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: transparent; /* Gradiente rimosso per performance */
  border-radius: 6px 6px 3px 3px;
  pointer-events: none;
  z-index: 1;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.cache-reset-btn:hover {
  background-color: rgba(255, 255, 255, 0.1);  /* Sfondo bianco trasparente al hover */
}

/* Rifrazione visibile al hover */
.cache-reset-btn:hover::before {
  opacity: 1;
}

/* Icona cache reset */
.cache-reset-btn span {
  font-size: 1rem;                            /* Dimensione icona */
  transition: transform 0.3s ease;            /* Rotazione al hover */
}

/* Rotazione icona al hover */
.cache-reset-btn:hover span {
  transform: rotate(180deg);                   /* Rotazione completa */
}

/* Modalità scura per cache-reset-btn */
.dark .cache-reset-btn {
  color: var(--testo-principale);             /* Colore testo modalità scura */
}

.dark .cache-reset-btn:hover {
  background-color: rgba(255, 255, 255, 0.1); /* Sfondo hover scuro */
}

/* Cache reset mobile - nasconde etichetta, solo icona */
@media (max-width: 768px) {
  .cache-reset-btn {
    padding: 0.4rem;                          /* Padding ridotto per mobile */
  }
  
  .cache-reset-btn span {
    font-size: 1.1rem;                        /* Icona leggermente più grande */
  }
  
  /* Nasconde badge BETA su mobile per liberare spazio */
  .beta-badge {
    display: none !important;                 /* Nasconde badge BETA su mobile */
  }
}

/* ========================================
   SEZIONE 16.8: PULSANTE RESET
   ======================================== */
/* Sezione contenitore pulsante reset */
.reset-section {
  display: flex;                               /* Layout flexbox */
  justify-content: center;                     /* Centra orizzontalmente */
  margin: 2rem 0;                             /* Margine verticale */
  padding: 0;                                 /* Nessun padding */
}

/* Pulsante reset */
.reset-btn {
  background: var(--glass-bg);                 /* Sfondo glassmorphism */
  backdrop-filter: var(--backdrop-blur);      /* Effetto sfocatura */
  -webkit-backdrop-filter: var(--backdrop-blur); /* Supporto WebKit */
  border: 1px solid var(--glass-border);      /* Bordo glassmorphism */
  border-radius: 12px;                        /* Bordi arrotondati */
  color: var(--testo-principale);             /* Colore testo */
  cursor: pointer;                            /* Cursore pointer */
  padding: 0.75rem 1.5rem;                    /* Padding interno */
  font-size: 0.9rem;                          /* Dimensione font */
  font-weight: 500;                           /* Peso font */
  transition: all 0.3s ease;                  /* Transizione fluida */
  box-shadow: var(--glass-shadow);            /* Ombra glassmorphism */
  position: relative;                         /* Per posizionamento assoluto del ::before */
  min-width: 160px;                           /* Larghezza minima */
}

/* Effetto rifrazione della luce per reset-btn */
.reset-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: transparent; /* Gradiente rimosso per performance */
  border-radius: 12px 12px 6px 6px;
  pointer-events: none;
  z-index: 1;
    opacity: 0;
  transition: opacity 0.3s ease;
}

/* Hover state per reset-btn */
.reset-btn:hover {
  background-color: rgba(255, 255, 255, 0.15); /* Sfondo più chiaro al hover */
  border-color: var(--turchese);               /* Bordo turchese al hover */
  box-shadow: 0 8px 32px rgba(23, 183, 177, 0.2); /* Ombra turchese */
  transform: translateY(-2px);                 /* Leggero sollevamento */
}

/* Rifrazione visibile al hover */
.reset-btn:hover::before {
    opacity: 1;
}


/* Modalità scura per reset-btn */
.dark .reset-btn {
  background: var(--glass-bg-dark);            /* Sfondo scuro glassmorphism */
  border-color: var(--glass-border-dark);     /* Bordo scuro */
  color: var(--testo-principale);             /* Testo chiaro */
}

.dark .reset-btn:hover {
  background-color: rgba(255, 255, 255, 0.1); /* Sfondo hover scuro */
  border-color: var(--turchese);               /* Bordo turchese */
  box-shadow: 0 8px 32px rgba(23, 183, 177, 0.3); /* Ombra turchese scura */
}

/* Reset mobile - pulsante compatto */
@media (max-width: 480px) {
  .reset-btn {
    min-width: auto;                           /* Larghezza automatica */
    padding: 0.75rem;                          /* Padding ridotto */
    font-size: 0.8rem;                         /* Font più piccolo */
  }
}

/* ========================================
   SEZIONE 16.8.5: MODAL RESET CACHE
   ======================================== */
/* Modal overlay */
.cache-modal {
  display: none;                              /* Nascosto di default */
  position: fixed;                            /* Posizione fissa */
  top: 0;                                     /* Inizio della pagina */
  left: 0;                                    /* Inizio della pagina */
  width: 100%;                                /* Larghezza completa */
  height: 100%;                               /* Altezza completa */
  background: rgba(0, 0, 0, 0.5);             /* Sfondo semi-trasparente */
  z-index: 10000;                             /* Sopra tutti gli elementi */
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
}

/* Modal content */
.cache-modal-content {
  position: absolute;                          /* Posizione assoluta */
  top: 50%;                                   /* Centrato verticalmente */
  left: 50%;                                  /* Centrato orizzontalmente */
  transform: translate(-50%, -50%);           /* Centrato perfetto */
  background: var(--bianco);                  /* Sfondo bianco */
  border-radius: 16px;                        /* Bordi arrotondati */
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3); /* Ombra profonda */
  max-width: 400px;                           /* Larghezza massima */
  width: 90%;                                 /* Larghezza responsive */
  overflow: hidden;                           /* Nasconde overflow */
  animation: modalSlideIn 0.3s ease-out;      /* Animazione entrata */
}

/* Animazione entrata modal */
@keyframes modalSlideIn {
  from {
    opacity: 0;
    transform: translate(-50%, -60%);
  }
  to {
    opacity: 1;
    transform: translate(-50%, -50%);
  }
}

/* Header modal */
.cache-modal-header {
  background: var(--turchese);                 /* Sfondo turchese */
  color: white;                               /* Testo bianco */
  padding: 1.5rem;                            /* Padding interno */
  text-align: center;                         /* Testo centrato */
}

.cache-modal-header h3 {
  margin: 0;                                  /* Nessun margine */
  font-size: 1.2rem;                          /* Dimensione font */
  font-weight: 600;                           /* Peso font */
}

/* Body modal */
.cache-modal-body {
  padding: 2rem;                              /* Padding interno */
  text-align: center;                         /* Testo centrato */
}

.cache-modal-body p {
  margin: 0 0 1rem 0;                         /* Margine inferiore */
  color: var(--testo-principale);             /* Colore testo */
  line-height: 1.5;                           /* Altezza riga */
}

.cache-modal-warning {
  color: #dc2626;                             /* Colore rosso per avviso */
  font-weight: 500;                           /* Peso font medio */
  font-size: 0.9rem;                          /* Font più piccolo */
}

/* Footer modal */
.cache-modal-footer {
  display: flex;                              /* Layout flexbox */
  gap: 1rem;                                  /* Spazio tra pulsanti */
  padding: 0 2rem 2rem 2rem;                 /* Padding interno */
}

/* Pulsanti modal */
.cache-modal-btn {
  flex: 1;                                    /* Larghezza uguale */
  padding: 0.75rem 1.5rem;                    /* Padding interno */
  border: none;                               /* Nessun bordo */
  border-radius: 8px;                         /* Bordi arrotondati */
  font-size: 1rem;                            /* Dimensione font */
  font-weight: 500;                           /* Peso font */
  cursor: pointer;                            /* Cursore pointer */
  transition: all 0.3s ease;                  /* Transizione fluida */
}

.cache-modal-cancel {
  background: #f3f4f6;                        /* Sfondo grigio chiaro */
  color: var(--testo-principale);             /* Colore testo */
}

.cache-modal-cancel:hover {
  background: #e5e7eb;                        /* Sfondo grigio più scuro */
}

.cache-modal-confirm {
  background: #dc2626;                        /* Sfondo rosso */
  color: white;                               /* Testo bianco */
}

.cache-modal-confirm:hover {
  background: #b91c1c;                        /* Sfondo rosso più scuro */
}

/* Modalità scura per modal */
.dark .cache-modal-content {
  background: var(--card-scuro);              /* Sfondo scuro */
}

.dark .cache-modal-body p {
  color: var(--testo-principale);             /* Colore testo scuro */
}

.dark .cache-modal-cancel {
  background: #374151;                        /* Sfondo grigio scuro */
  color: var(--testo-principale);             /* Colore testo scuro */
}

.dark .cache-modal-cancel:hover {
  background: #4b5563;                        /* Sfondo grigio più scuro */
}

/* Modal mobile */
@media (max-width: 480px) {
  .cache-modal-content {
    width: 95%;                               /* Larghezza quasi completa */
    max-width: none;                          /* Nessuna larghezza massima */
  }
  
  .cache-modal-header,
  .cache-modal-body,
  .cache-modal-footer {
    padding: 1rem;                            /* Padding ridotto */
  }
  
  .cache-modal-footer {
    flex-direction: column;                   /* Layout verticale */
  }
  
  .cache-modal-btn {
    padding: 1rem;                            /* Padding maggiore */
  }
}

/* ========================================
   SEZIONE 16.9: LINK TELEGRAM FOOTER
   ======================================== */
/* Link Telegram nel footer */
.footer-links {
  display: flex;                             /* Layout flexbox */
  justify-content: center;                   /* Centrato orizzontalmente */
  align-items: center;                       /* Centrato verticalmente */
  margin: 1rem 0;                            /* Margine verticale */
  gap: 0.8rem;                               /* Spazio tra elementi */
  flex-wrap: wrap;                           /* Wrap per mobile */
}

.telegram-link {
  display: inline-flex;                      /* Layout flexbox inline */
  align-items: center;                       /* Allineamento verticale */
  gap: 0.4rem;                               /* Spazio tra icona e testo */
  padding: 0.6rem 1rem;                      /* Padding interno */
  background: var(--glass-bg);               /* Sfondo glassmorphism */
  backdrop-filter: var(--backdrop-blur);     /* Sfocatura background */
  -webkit-backdrop-filter: var(--backdrop-blur); /* Supporto WebKit */
  border: 1px solid var(--glass-border);     /* Bordo sottile */
  border-radius: 12px;                       /* Bordi arrotondati */
  color: var(--testo-principale);            /* Colore testo */
  text-decoration: none;                     /* Nessuna sottolineatura */
  font-size: 0.85rem;                        /* Dimensione font */
  font-weight: 500;                          /* Peso font medium */
  transition: all 0.3s ease;                 /* Transizione fluida */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); /* Ombra leggera */
  min-width: 140px;                          /* Larghezza minima */
  justify-content: center;                   /* Centrato contenuto */
}

.telegram-link:hover {
  background: #0088cc;                       /* Sfondo blu Telegram */
  color: white;                              /* Testo bianco */
  transform: translateY(-2px);               /* Leggero sollevamento */
  box-shadow: 0 4px 16px rgba(0, 136, 204, 0.3); /* Ombra blu */
}

.telegram-icon {
  font-size: 1rem;                           /* Dimensione icona */
  transition: transform 0.3s ease;           /* Transizione icona */
}

.telegram-link:hover .telegram-icon {
  transform: scale(1.1);                     /* Leggero ingrandimento */
}

/* Modalità scura per link Telegram */
.dark .telegram-link {
  background: var(--glass-bg-dark);          /* Sfondo scuro */
  border-color: var(--glass-border-dark);    /* Bordo scuro */
  color: var(--testo-principale);            /* Colore testo scuro */
}

.dark .telegram-link:hover {
  background: #0088cc;                       /* Sfondo blu Telegram */
  color: white;                              /* Testo bianco */
}

/* Mobile ottimizzazione per due link Telegram */
@media (max-width: 768px) {
  .footer-links {
    flex-direction: column;                   /* Stack verticale */
    gap: 0.6rem;                             /* Gap ridotto */
    margin: 0.75rem 0;                       /* Margine ridotto */
  }
  
  .telegram-link {
    padding: 0.5rem 0.8rem;                  /* Padding ridotto */
    font-size: 0.8rem;                       /* Font più piccolo */
    width: 100%;                             /* Larghezza completa */
    max-width: 240px;                        /* Larghezza massima */
    min-width: auto;                         /* Rimuove min-width */
  }
  
  .telegram-icon {
    font-size: 0.9rem;                       /* Icona più piccola */
  }
}

@media (max-width: 480px) {
  .footer-links {
    gap: 0.5rem;                             /* Gap ancora più piccolo */
    margin: 0.5rem 0;                        /* Margine minimo */
  }
  
  .telegram-link {
    padding: 0.4rem 0.7rem;                  /* Padding minimo */
    font-size: 0.75rem;                      /* Font minimo */
    max-width: 220px;                        /* Larghezza massima ridotta */
  }
}

/* ========================================
   SEZIONE 16.10: INFORMAZIONI AGGIORNAMENTO
   ======================================== */
/* Informazioni data aggiornamento nel footer */
.update-info {
  font-size: 0.8rem;                         /* Font più piccolo */
  color: var(--testo-secondario);            /* Colore testo secondario */
  margin-top: 0.5rem;                        /* Margine superiore */
  text-align: center;                        /* Centrato */
  opacity: 0.8;                              /* Opacità ridotta */
}

.update-info span {
  font-weight: 500;                          /* Peso font medio */
  color: var(--testo-principale);            /* Colore principale */
}

/* Modalità scura per update-info */
.dark .update-info {
  color: var(--testo-secondario);            /* Colore modalità scura */
}

.dark .update-info span {
  color: var(--testo-principale);            /* Colore principale modalità scura */
}

/* ========================================
   SEZIONE 17: ANIMAZIONI FINALI
   ======================================== */
/* SEZIONE 17.1: Animazione fadeIn */
@keyframes fadeIn {
  from {
    opacity: 0;                                 /* Inizia trasparente */
    transform: translateY(20px);                 /* Inizia 20px più in basso */
  }
  to {
    opacity: 1;                                 /* Diventa opaco */
    transform: translateY(0);                   /* Ritorna alla posizione normale */
  }
}

/* SEZIONE 17.2: Classe fade-in */
.fade-in {
  animation: fadeIn 0.5s ease-out;              /* Applica animazione fadeIn */
}

/* SEZIONE 17.3: Contenitore selettore linea e ricerca */
.line-search-container {
  display: flex;                                 /* Layout flexbox */
  flex-direction: column;                       /* Direzione verticale */
  align-items: center;                          /* Centra verticalmente */
  gap: 1rem;                                   /* Spazio tra elementi */
  margin-bottom: 2rem;                         /* Margine inferiore */
  width: 100%;                                 /* Larghezza completa */
  max-width: 1200px;                           /* Larghezza massima */
  margin-left: auto;                           /* Margine sinistro automatico */
  margin-right: auto;                          /* Margine destro automatico */
}

/* SEZIONE 17.4: Media query per schermi grandi - layout orizzontale */
@media (min-width: 1200px) {
  .line-search-container {
    flex-direction: row;                        /* Direzione orizzontale */
    justify-content: center;                    /* Centra orizzontalmente */
    gap: 2rem;                                 /* Spazio maggiore */
  }

  .line-selector-container,
  .search-container {
    flex: 1;                                   /* Occupa spazio disponibile */
    max-width: 450px;                          /* Larghezza massima */
  }
}

/* SEZIONE 17.5: Dimensioni contenitori selettore e ricerca */
.line-selector-container,
.search-container {
  width: 100%;                                 /* Larghezza completa */
  max-width: 600px;                            /* Larghezza massima */
}

/* SEZIONE 17.6: Media query per schermi grandi - container tratte */
@media (min-width: 1200px) {
  /* Container griglia tratte */
  #tratte-grid-container {
    display: grid;                               /* Layout a griglia */
    grid-template-columns: 1fr 1fr;             /* Due colonne uguali */
    gap: 3rem;                                  /* Spazio tra le colonne */
    max-width: 1800px;                          /* Larghezza massima */
    margin: 2rem auto;                          /* Margine verticale e centratura */
    width: 100%;                                /* Larghezza completa */
  }

  /* Card tratte dentro il container */
  #tratte-grid-container .fermate-card {
    width: 100%;                                /* Larghezza completa */
    margin-bottom: 0;                           /* Nessun margine inferiore */
    max-width: none;                            /* Nessuna larghezza massima */
  }

  /* Elementi tratta ottimizzati per desktop */
  .fermate-item {
    padding: 1.2rem 1.5rem 1.2rem 2rem;         /* Padding interno con più spazio a sinistra */
    margin-bottom: 1rem;                        /* Margine inferiore */
    border-radius: 12px;                        /* Bordi arrotondati */
    background-color: var(--bianco);            /* Sfondo bianco */
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05); /* Ombra leggera */
    transition: all 0.3s ease;                 /* Transizione fluida */
    display: flex;                              /* Layout flexbox */
    align-items: center;                        /* Allineamento verticale centrale */
    font-size: 1.1rem;                          /* Dimensione font grande */
    font-weight: 500;                           /* Peso font medium */
  }

  /* Effetto hover elementi tratta desktop */
  .fermate-item:hover {
    /* transform: translateY(-3px);                /* Solleva l'elemento RIMOSSO */
    /* box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1); /* Ombra più forte RIMOSSA */
    /* background-color: var(--turchese);          /* Sfondo turchese RIMOSSO */
    background-color: rgba(248, 250, 252, 0.4); /* Sfondo grigio chiaro elegante */
    color: #ffffff;                             /* Testo bianco elegante */
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8),  /* Contorno nero per leggibilità */
                 0 0 4px rgba(0, 0, 0, 0.6);    /* Contorno nero aggiuntivo */
  }

  /* Elementi tratta in modalità scura */
  .dark .fermate-item {
    background: rgba(30, 41, 59, 0.6);         /* Sfondo scuro trasparente */
    color: rgba(248, 250, 252, 0.95);          /* Testo chiaro */
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5); /* Ombra testo per leggibilità */
  }

  /* Effetto hover elementi tratta in modalità scura */
  .dark .fermate-item:hover {
    /* background: rgba(23, 183, 177, 0.4);       /* Sfondo turchese trasparente RIMOSSO */
    background: rgba(255, 255, 255, 0.1);       /* Sfondo bianco trasparente */
    color: #ffffff;                             /* Testo bianco */
  }
}

/* SEZIONE 17.7: Media query per schermi molto grandi (min-width: 1400px) */
@media (min-width: 1400px) {
  /* Card principale per schermi molto grandi */
  .main-card {
    width: 90% !important;                      /* Larghezza 90% */
    max-width: 950px !important;                /* Larghezza massima 950px */
    padding: 2.5rem;                           /* Padding maggiore */
    margin: 0.25rem auto !important;           /* Margine centrato */
  }
  
  /* Card per pagine non-tratte */
  body:not(.fermate-page) .main-card {
    max-width: 900px !important;                /* Larghezza massima 900px */
    padding: 3rem;                             /* Padding massimo */
  }

  /* Container principale */
  .main-content>.container {
    max-width: 1800px !important;               /* Larghezza massima container */
    padding: 0 1rem;                           /* Padding laterale */
  }
}

/* SEZIONE 17.8: Media query per schermi ultra grandi (min-width: 1920px) */
@media (min-width: 1920px) {
  /* Card principale per schermi ultra grandi */
  .main-card {
    width: 75% !important;                      /* Larghezza 75% */
    max-width: 1000px !important;               /* Larghezza massima 1000px */
    padding: 2.5rem;                           /* Padding standard */
    margin: 0.25rem auto !important;           /* Margine centrato */
  }
  
  /* Card per pagine non-tratte */
  body:not(.fermate-page) .main-card {
    max-width: 950px !important;                /* Larghezza massima 950px */
    padding: 3.5rem;                           /* Padding massimo */
  }

  /* Container principale */
  .main-content>.container {
    max-width: 1900px !important;               /* Larghezza massima container */
    padding: 0 1.5rem;                         /* Padding laterale maggiore */
  }
}

/* Modalità scura per sezione prezzo divisa con effetto vetro */
.dark .price-card {
  background: var(--glass-bg-dark);
  border-color: var(--glass-border-dark);
  box-shadow: var(--glass-shadow-dark); /* Ombra semplificata per performance */
}

.dark .price-card.inactive .price-section {
  opacity: 0.6;
}

.dark .price-card.inactive .price-label {
  color: #9ca3af;
}

.dark .price-card.inactive .price-code {
  color: #9ca3af;
}

.dark .price-card.inactive .price-value {
  color: #9ca3af;
}

/* Modalità scura per price-section */
.dark .price-section::before {
  background: transparent; /* Gradiente rimosso per performance */
}

/* Modalità scura per divisore */
.dark .price-divider {
  background: rgba(255, 255, 255, 0.4);  /* Stesso colore del divisore nelle altre pagine */
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

.dark .code-label {
  color: rgba(255, 255, 255, 0.9);
}

.dark .price-label {
  color: #ffffff;
}

/* Modalità scura per navbar con effetto rifrazione */
.dark .navbar {
  box-shadow: 0 4px 12px 0 rgba(0, 123, 138, 0.4); /* Ombra semplificata per performance */
}

.dark .navbar::before {
  background: transparent; /* Gradiente rimosso per performance */
}

.dark .navbar-logo {
  box-shadow: 0 2px 8px rgba(0, 123, 138, 0.4); /* Ombra semplificata per performance */
}

.dark .navbar-logo::before {
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.12) 0%,
    rgba(255, 255, 255, 0.06) 40%,
    transparent 70%,
    transparent 100%
  );
}

/* Modalità scura per main-card con effetto rifrazione */
.dark .main-card {
  box-shadow: var(--glass-shadow-dark); /* Ombra semplificata per performance */
}

.dark .main-card::before {
  background: transparent; /* Gradiente rimosso per performance */
}

/* Modalità scura per footer con effetto rifrazione */
.dark .footer::before {
  background: transparent; /* Gradiente rimosso per performance */
}

/* Modalità scura per pulsanti navbar con effetto rifrazione */
.dark .nav-link::before {
  background: transparent; /* Gradiente rimosso per performance */
}

.dark .dark-mode-toggle::before {
  background: transparent; /* Gradiente rimosso per performance */
}

/* Modalità scura per caselle select con effetto rifrazione */
.dark .form-select::before {
  background: transparent; /* Gradiente rimosso per performance */
}

.dark .route-select::before {
  background: transparent; /* Gradiente rimosso per performance */
}

/* Modalità scura per route-section con effetto rifrazione */
.dark .route-section::before {
  background: transparent; /* Gradiente rimosso per performance */
}

/* Modalità scura per pulsante swap con effetto rifrazione */
.dark .swap-btn::before {
  background: transparent; /* Gradiente rimosso per performance */
}

/* PWA install banner */
.pwa-install-banner {
  margin-top: 20px;
  background: var(--glass-bg);
  backdrop-filter: var(--backdrop-blur);
  -webkit-backdrop-filter: var(--backdrop-blur);
  border: 1px solid var(--glass-border);
  border-radius: 16px;
  box-shadow: var(--glass-shadow);
  overflow: hidden;
  position: relative;
}

/* Effetto rifrazione luce per banner PWA */
.pwa-install-banner::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.15) 0%,
    rgba(255, 255, 255, 0.08) 30%,
    transparent 60%,
    transparent 100%
  );
  pointer-events: none;
}

.pwa-install-content {
  max-width: 100%;
  margin: 0;
  padding: 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  position: relative;
  z-index: 1;
}

.pwa-install-text { 
  display: flex; 
  flex-direction: column; 
  gap: 4px;
  flex: 1;
}

.pwa-install-title { 
  font-weight: 600; 
  font-size: 1.1rem;
  color: var(--testo-principale);
}

.pwa-install-subtitle { 
  font-size: 0.9rem; 
  opacity: 0.75;
  color: var(--testo-secondario);
}

.pwa-install-actions { 
  display: flex; 
  gap: 10px;
  flex-shrink: 0;
  justify-content: flex-end;
  align-items: center;
}

/* Responsive per mobile */

.pwa-btn { 
  border: none; 
  border-radius: 10px; 
  padding: 10px 18px; 
  cursor: pointer; 
  font-weight: 600;
  font-size: 0.95rem;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.pwa-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, transparent 50%);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.pwa-btn:hover::before {
  opacity: 1;
}

.pwa-btn-primary { 
  background: linear-gradient(135deg, #17b7b1 0%, #0d9993 100%);
  color: #ffffff;
  box-shadow: 0 4px 12px rgba(23, 183, 177, 0.3);
}

.pwa-btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(23, 183, 177, 0.4);
}

.pwa-btn-primary:active {
  transform: translateY(0);
}

.pwa-btn-secondary { 
  background: rgba(0, 0, 0, 0.08);
  color: var(--testo-principale);
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.pwa-btn-secondary:hover {
  background: rgba(0, 0, 0, 0.12);
  transform: translateY(-1px);
}

.pwa-ios-hint { 
  padding: 16px 20px 20px 20px; 
  font-size: 0.9rem;
  color: var(--testo-principale);
  line-height: 1.6;
  position: relative;
  z-index: 1;
  border-top: 1px solid var(--glass-border);
  background: transparent; /* Sfondo trasparente rimosso per performance */
  animation: slideDown 0.3s ease-out;
  overflow: hidden;
}

@keyframes slideDown {
  from {
    max-height: 0;
    opacity: 0;
    padding-top: 0;
    padding-bottom: 0;
  }
  to {
    max-height: 500px;
    opacity: 1;
    padding-top: 16px;
    padding-bottom: 20px;
  }
}

.ios-hint-title {
  font-weight: 600;
  font-size: 1rem;
  margin-bottom: 12px;
  color: var(--testo-principale);
}

.ios-hint-steps {
  list-style: none;
  padding: 0;
  margin: 0 0 12px 0;
}

.ios-hint-steps li {
  padding: 8px 0;
  display: flex;
  align-items: flex-start;
  gap: 8px;
  line-height: 1.5;
}

.step-number {
  font-weight: 700;
  color: #17b7b1;
  min-width: 20px;
}

.ios-share-icon,
.ios-plus-icon {
  font-size: 1.1rem;
  vertical-align: middle;
}

.ios-hint-note {
  padding: 10px;
  background: rgba(23, 183, 177, 0.08);
  border-radius: 8px;
  font-size: 0.85rem;
  line-height: 1.4;
  color: var(--testo-secondario);
}

/* Responsive per mobile */
@media (max-width: 768px) {
  .pwa-install-content {
    flex-direction: column;
    align-items: stretch;
    gap: 16px;
    padding: 16px;
  }
  
  .pwa-install-text {
    text-align: center;
  }
  
  .pwa-install-actions {
    flex-direction: column;
    width: 100%;
  }
  
  .pwa-btn {
    width: 100%;
    justify-content: center;
  }
  
  .pwa-ios-hint {
    padding: 16px;
  }
  
  .ios-hint-steps li {
    flex-direction: row;
    text-align: left;
  }
}

/* Dark mode */
.dark .pwa-install-banner { 
  background: var(--glass-bg-dark);
  border-color: var(--glass-border-dark);
  box-shadow: var(--glass-shadow-dark);
}

.dark .pwa-install-banner::before {
  background: transparent; /* Gradiente rimosso per performance */
}

.dark .pwa-btn-secondary { 
  background: rgba(255,255,255,0.08); 
  color: var(--testo-scuro);
  border-color: rgba(255,255,255,0.12);
}

.dark .pwa-btn-secondary:hover {
  background: rgba(255,255,255,0.12);
}

.dark .pwa-ios-hint {
  border-top-color: var(--glass-border-dark);
  background: rgba(23, 183, 177, 0.08);
}

.dark .ios-hint-note {
  background: rgba(23, 183, 177, 0.12);
}

/* ========================================
   HAMBURGER MENU (MOBILE)
   ======================================== */

/* Hamburger toggle button - visibile solo su mobile */
.hamburger-toggle {
  display: none; /* Nascosto su desktop */
  background: none;
  border: none;
  cursor: pointer;
  padding: 8px;
  z-index: 1001;
  position: relative;
}

.hamburger-icon {
  display: block;
  width: 28px;
  height: 2px;
  background: var(--bianco);
  position: relative;
  transition: all 0.3s ease;
}

.hamburger-icon::before,
.hamburger-icon::after {
  content: '';
  display: block;
  width: 28px;
  height: 2px;
  background: var(--bianco);
  position: absolute;
  transition: all 0.3s ease;
}

.hamburger-icon::before {
  top: -8px;
}

.hamburger-icon::after {
  top: 8px;
}

/* Animazione hamburger quando menu aperto */
.hamburger-toggle.active .hamburger-icon {
  background: transparent;
}

.hamburger-toggle.active .hamburger-icon::before {
  top: 0;
  transform: rotate(45deg);
}

.hamburger-toggle.active .hamburger-icon::after {
  top: 0;
  transform: rotate(-45deg);
}

/* Overlay scuro dietro il menu */
.mobile-menu-overlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  /* backdrop-filter rimosso per performance */
  z-index: 1100;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.mobile-menu-overlay.active {
  display: block;
  opacity: 1;
}

/* Menu mobile drawer */
.mobile-menu {
  position: fixed;
  top: 0;
  right: -100%;
  width: 240px;
  height: 100vh;
  background: rgba(255, 255, 255, 0.95);
  /* backdrop-filter rimosso per performance */
  /* -webkit-backdrop-filter rimosso per performance */
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: -8px 0 32px rgba(0, 0, 0, 0.3);
  z-index: 1101;
  transition: right 0.3s ease;
  overflow-y: auto;
}

.mobile-menu.active {
  right: 0;
}

/* Header del menu mobile */
.mobile-menu-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px;
  border-bottom: 1px solid var(--glass-border);
  background: rgba(23, 183, 177, 0.1);
}

.mobile-menu-title {
  font-size: 1.2rem;
  font-weight: 700;
  color: var(--testo-principale);
}

.mobile-menu-close {
  background: none;
  border: none;
  font-size: 2rem;
  line-height: 1;
  color: var(--testo-principale);
  cursor: pointer;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  transition: all 0.2s ease;
}

.mobile-menu-close:hover {
  background: rgba(0, 0, 0, 0.1);
}

/* Navigazione menu mobile */
.mobile-menu-nav {
  padding: 12px 0;
}

.mobile-nav-link,
.mobile-nav-button {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 16px 20px;
  color: var(--testo-principale);
  text-decoration: none;
  font-size: 1rem;
  font-weight: 500;
  transition: all 0.2s ease;
  border: none;
  background: none;
  width: 100%;
  text-align: left;
  cursor: pointer;
}

.mobile-nav-link:hover,
.mobile-nav-button:hover {
  background: rgba(23, 183, 177, 0.1);
  padding-left: 24px;
}

.mobile-nav-icon {
  font-size: 1.3rem;
  width: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.mobile-menu-divider {
  height: 1px;
  background: var(--glass-border);
  margin: 12px 20px;
}

/* Media query: mostra hamburger su mobile, nascondi navbar-nav */
@media (max-width: 768px) {
  .hamburger-toggle {
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .navbar-nav {
    display: none !important;
  }
}

/* Dark mode per menu mobile */
.dark .mobile-menu {
  background: rgba(30, 41, 59, 0.95);
  border-left-color: rgba(148, 163, 184, 0.2);
  box-shadow: -8px 0 32px rgba(0, 0, 0, 0.7);
}

.dark .mobile-menu-header {
  border-bottom-color: var(--glass-border-dark);
  background: rgba(23, 183, 177, 0.15);
}

.dark .mobile-menu-close:hover {
  background: rgba(255, 255, 255, 0.1);
}

.dark .mobile-nav-link:hover,
.dark .mobile-nav-button:hover {
  background: rgba(23, 183, 177, 0.2);
}

.dark .mobile-menu-divider {
  background: var(--glass-border-dark);
}
